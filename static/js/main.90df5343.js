/*! For license information please see main.90df5343.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=d(n,y);try{l(t,y,g)}catch(_){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return k(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||k(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return k(e)===l},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===d},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===g||e.$$typeof===_||e.$$typeof===b||e.$$typeof===y)},t.typeOf=k},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function H(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case C:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function B(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=B(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=B(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,B(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+B(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:B(n)}}function ae(e,t){var n=B(t.value),r=B(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,xe=null;function Ce(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),we(e.stateNode,e.type,t))}}function Ee(e){Se?xe?xe.push(e):xe=[e]:Se=e}function Ie(){if(Se){var e=Se,t=xe;if(xe=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==Se||null!==xe)&&(Ne(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ce){De=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,je=null,Fe=!1,ze=null,Ue={onError:function(e){Me=!0,je=e}};function He(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(qe(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Be(i),e;if(o===r)return Be(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,St,xt,Ct,Et=!1,It=[],Tt=null,Nt=null,Pt=null,Ot=new Map,Rt=new Map,Dt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Pt&&Ft(Pt)&&(Pt=null),Ot.forEach(zt),Rt.forEach(zt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Ht(t,e)}if(0<It.length){Ht(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ht(Tt,e),null!==Nt&&Ht(Nt,e),null!==Pt&&Ht(Pt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var Wt=b.ReactCurrentBatchConfig,Bt=!0;function Vt(e,t,n,r){var i=_t,a=Wt.transition;Wt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,Wt.transition=a}}function Kt(e,t,n,r){var i=_t,a=Wt.transition;Wt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,Wt.transition=a}}function Gt(e,t,n,r){if(Bt){var i=Qt(e,t,n,r);if(null===i)Br(e,t,r,$t,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&kt(a),null===(a=Qt(e,t,n,r))&&Br(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=gi(e=ke(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=j({},ln,{view:0,detail:0}),dn=an(fn),hn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(j({},hn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),bn=an(j({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return xn}var En=j({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(En),Tn=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=an(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(On),Dn=[9,13,27,32],An=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,jn=c&&(!An||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function $n(e){Fr(e,0)}function Qn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Zn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Zn=Xn}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Vn(t,Gn,e,ke(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},xr={};function Cr(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Sr[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Er=Cr("animationend"),Ir=Cr("animationiteration"),Tr=Cr("animationstart"),Nr=Cr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Ar=Or[Dr];Rr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(He.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=je;Me=!1,je=null,Fe||(Fe=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Hr]){e[Hr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var i=Vt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=ke(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Er:case Ir:case Tr:u=yn;break;case Nr:u=Pn;break;case"scroll":u=dn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Re(p,d))&&c.push(Vr(p,v,h)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:bi(u),h=null==l?s:bi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,gi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(d=l,p=0,h=c=u;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)c=Gr(c),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==u&&$r(o,s,u,c,!1),null!==l&&null!==f&&$r(o,f,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Bn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Vn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(An)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(y=Kr(r,_)).length&&(_=new bn(_,e,null,n,i),o.push({event:_,listeners:y}),g?_.data=g:null!==(g=Hn(n))&&(_.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!An&&Un(e,t)?(e=en(),Xt=Zt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=Re(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(Vr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Vr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[hi]||null}var wi=[],Si=-1;function xi(e){return{current:e}}function Ci(e){0>Si||(e.current=wi[Si],wi[Si]=null,Si--)}function Ei(e,t){Si++,wi[Si]=e.current,e.current=t}var Ii={},Ti=xi(Ii),Ni=xi(!1),Pi=Ii;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(Ni),Ci(Ti)}function Ai(e,t,n){if(Ti.current!==Ii)throw Error(a(168));Ei(Ti,t),Ei(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=Ti.current,Ei(Ti,e),Ei(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ni),Ci(Ti),Ei(Ti,e)):Ci(Ni),Ei(Ni,n)}var Fi=null,zi=!1,Ui=!1;function Hi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Xe,qi),i}finally{_t=t,Ui=!1}}return null}var Wi=[],Bi=0,Vi=null,Ki=0,Gi=[],$i=0,Qi=null,Yi=1,Ji="";function Zi(e,t){Wi[Bi++]=Ki,Wi[Bi++]=Vi,Vi=e,Ki=t}function Xi(e,t,n){Gi[$i++]=Yi,Gi[$i++]=Ji,Gi[$i++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),Xi(e,1,0))}function ta(e){for(;e===Vi;)Vi=Wi[--Bi],Wi[Bi]=null,Ki=Wi[--Bi],Wi[Bi]=null;for(;e===Qi;)Qi=Gi[--$i],Gi[$i]=null,Ji=Gi[--$i],Gi[$i]=null,Yi=Gi[--$i],Gi[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=li(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=xi(null),ga=null,_a=null,ba=null;function ka(){ba=_a=ga=null}function wa(e){var t=ya.current;Ci(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){ga=e,ba=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ga)throw Error(a(308));_a=e,ga.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ea=null;function Ia(e){null===Ea?Ea=[e]:Ea.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=j({},f,d);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=f):c=c.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ha={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Aa(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Aa(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Aa(e,i,r))&&(rl(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Wa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Ri(t)?Pi:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ha.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Ri(t)?Pi:Ti.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ha.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Al(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&$a(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case w:return(t=zl(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case R:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),ia&&Zi(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Zi(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var _=h(i,v,g.value,l);if(null===_){null===v&&(v=y);break}e&&v&&null===_.alternate&&t(i,v),s=o(_,s,m),null===f?c=_:f.sibling=_,f=_,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=d(i,g.value,l))&&(s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return ia&&Zi(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&$a(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Ml(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ll(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zl(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Qa(!0),Ja=Qa(!1),Za={},Xa=xi(Za),eo=xi(Za),to=xi(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Xa,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Xa),Ei(Xa,t)}function io(){Ci(Xa),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no(Xa.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Xa,n))}function oo(e){eo.current===e&&(Ci(Xa),Ci(eo))}var so=xi(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,_o=!1,bo=0,ko=0;function wo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_o){o=0;do{if(_o=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(_o)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Co(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,vo.lanes|=f,ju|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Ro(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Bo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,zo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&rl(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Io().memoizedState}function Ho(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}vo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Wo(e,t){return Ho(8390656,8,e,t)}function Bo(e,t){return qo(2048,8,e,t)}function Vo(e,t){return qo(4,2,e,t)}function Ko(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Xo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{_t=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ta(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){_o=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ca,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Xo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Wo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Pu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ca,useCallback:Yo,useContext:Ca,useEffect:Bo,useImperativeHandle:$o,useInsertionEffect:Vo,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Uo,useState:function(){return No(To)},useDebugValue:Qo,useDeferredValue:function(e){return Zo(Io(),mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ca,useCallback:Yo,useContext:Ca,useEffect:Bo,useImperativeHandle:$o,useInsertionEffect:Vo,useLayoutEffect:Ko,useMemo:Jo,useReducer:Po,useRef:Uo,useState:function(){return Po(To)},useDebugValue:Qo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Po(To)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vu||(Vu=!0,Ku=r),ds(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Aa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=b.ReactCurrentOwner,bs=!1;function ks(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return xa(t,i),r=xo(e,t,n,r,a,i),n=Co(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=Al(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Au,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Au,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Au,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Au,Du),Du|=r;return ks(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ri(n)?Pi:Ti.current;return a=Oi(t,a),xa(t,i),n=xo(e,t,n,r,a,i),r=Co(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function Ts(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(xa(t,i),null===t.stateNode)Bs(e,t),Wa(t,n,r),Va(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ca(l):l=Oi(t,l=Ri(n)?Pi:Ti.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ba(t,o,r,l),Pa=!1;var d=t.memoizedState;o.state=d,ja(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ni.current||Pa?("function"===typeof c&&(Ua(t,n,c,r),u=t.memoizedState),(s=Pa||qa(t,n,s,r,d,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ca(u):u=Oi(t,u=Ri(n)?Pi:Ti.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Ba(t,o,r,u),Pa=!1,d=t.memoizedState,o.state=d,ja(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Ni.current||Pa?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(l=Pa||qa(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Vs(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ks(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),ro(e,t.containerInfo)}function Os(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ks(e,t,n,r),t.child}var Rs,Ds,As,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jl(u,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):zs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rl(r,e,i,-1))}return ml(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[$i++]=Yi,Gi[$i++]=Ji,Gi[$i++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Al(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Al(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Al(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=jl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n,t);else if(19===e.tag)Hs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Al(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Al(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ri(t.type)&&Di(),Gs(t),null;case 3:return r=t.stateNode,io(),Ci(Ni),Ci(Ti),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Ds(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)As(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Xa.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&zr("scroll",r)}switch(n){case"input":K(r),X(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&_(e,o,c,u))}switch(n){case"input":K(e),X(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+B(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Xa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):ml())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Ds(e,t),null===e&&qr(t.stateNode.containerInfo),Gs(t),null;case 10:return wa(t.type._context),Gs(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Wu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Je()-o.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ni),Ci(Ti),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},As=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&zr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Js=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Xs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Cl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=fu,i=du;fu=null,hu(e,t,n),du=i,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=du,fu=n.stateNode.containerInfo,du=!0,hu(e,t,n),fu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cl(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,hu(e,t,n),Js=r):hu(e,t,n);break;default:hu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Cl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Cl(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Cl(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Cl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),_e(u,s);var c=_e(u,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):_(i,f,d,c)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Cl(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Cl(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Cl(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Je())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(c=Js)||f,mu(t,e),Js=c):mu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(d=Xs=f;null!==Xs;){switch(p=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cl(r,n,m)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){wu(d);continue}}null!==p?(p.return=h,Xs=p):wu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Cl(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Cl(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Cl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _u(e,t,n){Xs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Ys;var l=Js;if(Ys=o,(Js=u)&&!l)for(Xs=i;null!==Xs;)u=(o=Xs).child,22===o.tag&&null!==o.memoizedState?Su(i):null!==u?(u.return=o,Xs=u):Su(i);for(;null!==a;)Xs=a,bu(a,t,n),a=a.sibling;Xs=i,Ys=s,Js=l}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):ku(e)}}function ku(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(h){Cl(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Su(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Cl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cl(t,i,u)}}var a=t.return;try{au(t)}catch(u){Cl(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Cl(t,o,u)}}}catch(u){Cl(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var xu,Cu=Math.ceil,Eu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Nu=0,Pu=null,Ou=null,Ru=0,Du=0,Au=xi(0),Lu=0,Mu=null,ju=0,Fu=0,zu=0,Uu=null,Hu=null,qu=0,Wu=1/0,Bu=null,Vu=!1,Ku=null,Gu=null,$u=!1,Qu=null,Yu=0,Ju=0,Zu=null,Xu=-1,el=0;function tl(){return 0!==(6&Nu)?Je():-1!==Xu?Xu:Xu=Je()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Ju)throw Ju=0,Zu=null,Error(a(185));yt(e,n,r),0!==(2&Nu)&&e===Pu||(e===Pu&&(0===(2&Nu)&&(Fu|=n),4===Lu&&ul(e,Ru)),il(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(Wu=Je()+500,zi&&qi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Pu?Ru:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){zi=!0,Hi(e)}(ll.bind(null,e)):Hi(ll.bind(null,e)),oi((function(){0===(6&Nu)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Xu=-1,el=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=dt(e,e===Pu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Nu;Nu|=2;var o=vl();for(Pu===e&&Ru===t||(Bu=null,Wu=Je()+500,hl(e,t));;)try{_l();break}catch(u){pl(e,u)}ka(),Eu.current=o,Nu=i,null!==Ou?t=0:(Pu=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mu,hl(e,0),ul(e,r),il(e,Je()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mu,hl(e,0),ul(e,r),il(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Hu,Bu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=qu+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Hu,Bu),t);break}wl(e,Hu,Bu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Hu,Bu),r);break}wl(e,Hu,Bu);break;default:throw Error(a(329))}}}return il(e,Je()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Hu,Hu=n,null!==t&&sl(t)),e}function sl(e){null===Hu?Hu=e:Hu.push.apply(Hu,e)}function ul(e,t){for(t&=~zu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nu))throw Error(a(327));Sl();var t=dt(e,0);if(0===(1&t))return il(e,Je()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mu,hl(e,0),ul(e,t),il(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Hu,Bu),il(e,Je()),null}function cl(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(Wu=Je()+500,zi&&qi())}}function fl(e){null!==Qu&&0===Qu.tag&&0===(6&Nu)&&Sl();var t=Nu;Nu|=1;var n=Tu.transition,r=_t;try{if(Tu.transition=null,_t=1,e)return e()}finally{_t=r,Tu.transition=n,0===(6&(Nu=t))&&qi()}}function dl(){Du=Au.current,Ci(Au)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ci(Ni),Ci(Ti),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:wa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Pu=e,Ou=e=Al(e.current,null),Ru=Du=t,Lu=0,Mu=null,zu=Fu=ju=0,Hu=Uu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pl(e,t){for(;;){var n=Ou;try{if(ka(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,_o=!1,bo=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Ou=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Lu&&(Lu=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gu||!Gu.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kl(n)}catch(b){t=b,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function vl(){var e=Eu.current;return Eu.current=os,null===e?os:e}function ml(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Pu||0===(268435455&ju)&&0===(268435455&Fu)||ul(Pu,Ru)}function yl(e,t){var n=Nu;Nu|=2;var r=vl();for(Pu===e&&Ru===t||(Bu=null,hl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(ka(),Nu=n,Eu.current=r,null!==Ou)throw Error(a(261));return Pu=null,Ru=0,Lu}function gl(){for(;null!==Ou;)bl(Ou)}function _l(){for(;null!==Ou&&!Qe();)bl(Ou)}function bl(e){var t=xu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?kl(e):Ou=t,Iu.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Du)))return void(Ou=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Ou=n);if(null===e)return Lu=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Lu&&(Lu=5)}function wl(e,t,n){var r=_t,i=Tu.transition;try{Tu.transition=null,_t=1,function(e,t,n,r){do{Sl()}while(null!==Qu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Ou=Pu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$u||($u=!0,Pl(tt,(function(){return Sl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=_t;_t=1;var u=Nu;Nu|=4,Iu.current=null,function(e,t){if(ei=Bt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(u=s),h===o&&++f===r&&(l=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Bt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(k){Cl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Bt=!!ei,ti=ei=null,e.current=n,_u(n,e,i),Ye(),Nu=u,_t=s,Tu.transition=o}else e.current=n;if($u&&($u=!1,Qu=e,Yu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vu)throw Vu=!1,e=Ku,Ku=null,e;0!==(1&Yu)&&0!==e.tag&&Sl(),o=e.pendingLanes,0!==(1&o)?e===Zu?Ju++:(Ju=0,Zu=e):Ju=0,qi()}(e,t,n,r)}finally{Tu.transition=i,_t=r}return null}function Sl(){if(null!==Qu){var e=bt(Yu),t=Tu.transition,n=_t;try{if(Tu.transition=null,_t=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Xs=c;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var d=f.child;if(null!==d)d.return=f,Xs=d;else for(;null!==Xs;){var h=(f=Xs).sibling,p=f.return;if(ou(f),f===c){Xs=null;break}if(null!==h){h.return=p,Xs=h;break}Xs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xs=g;break e}Xs=o.return}}var _=e.current;for(Xs=_;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=_;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){Cl(u,u.return,w)}if(u===s){Xs=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Xs=k;break e}Xs=u.return}}if(Nu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Tu.transition=t}}return!1}function xl(e,t,n){e=Aa(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function Cl(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Aa(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>Je()-qu?hl(e,0):zu|=n),il(e,t)}function Il(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Na(e,t))&&(yt(e,t,n),il(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Il(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Il(e,n)}function Pl(e,t){return Ge(e,t)}function Ol(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Ol(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Al(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ml(n.children,i,o,t);case x:s=8,i|=8;break;case C:return(e=Rl(12,n,t,2|i)).elementType=C,e.lanes=o,e;case N:return(e=Rl(13,n,t,i)).elementType=N,e.lanes=o,e;case P:return(e=Rl(19,n,t,i)).elementType=P,e.lanes=o,e;case D:return jl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case I:s=9;break e;case T:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function jl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function zl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hl(e,t,n,r,i,a,o,s,u){return e=new Ul(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function ql(e){if(!e)return Ii;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Wl(e,t,n,r,i,a,o,s,u){return(e=Hl(n,r,!0,e,0,a,0,s,u)).context=ql(null),n=e.current,(a=Da(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Aa(n,a,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function Bl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=ql(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Aa(i,t,o))&&(rl(e,i,o,a),La(e,i,o)),o}function Vl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),ha();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ei(so,1&so.current),null!==(e=Vs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Vs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Xi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var i=Oi(t,Ti.current);xa(t,n),i=xo(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ha,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Vs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Vs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xa(t,n),r=r(i=Ca(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Ss(e,t,r,i=ma(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Bs(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,xa(t,n),Wa(t,r,i),Va(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var $l="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Vl(o);s.call(e)}}Bl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Vl(o);a.call(e)}}var o=Wl(t,r,e,0,null,!1,0,"",Xl);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Vl(u);s.call(e)}}var u=Hl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),fl((function(){Bl(t,u,n,r)})),u}(n,t,e,i,r);return Vl(o)}Yl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bl(e,t,null,null)},Yl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Bl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Je()),0===(6&Nu)&&(Wu=Je()+500,qi()))}break;case 13:fl((function(){var t=Na(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=Na(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},xt=function(){return _t},Ct=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cl,Ne=fl;var tc={usingClientEntryPoint:!1,Events:[_i,bi,ki,Ee,Ie,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(a(299));var n=!1,r="",i=$l;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=$l;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Zl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){n(459)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=_.prototype=new g;b.constructor=_,v(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var c=a+T(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+T(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},A={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,D(w);else{var t=r(c);null!==t&&A(k,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=h;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),b(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&A(k,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,C=null,E=-1,I=5,T=-1;function N(){return!(t.unstable_now()-T<I)}function P(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?S():(x=!1,C=null)}}else x=!1}if("function"===typeof _)S=function(){_(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=P,S=function(){R.postMessage(null)}}else S=function(){y(P,0)};function D(e){C=e,x||(x=!0,S())}function A(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(E),E=-1):m=!0,A(k,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,D(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),o((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},595:function(e,t,n){var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=l((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var h=o(e,f[0],f[1]);return u((function(){d.hasValue=!0,d.value=h}),[h]),c(h),h}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".f0c240ff.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="eso-portal-tool:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/eso-portal-tool/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkeso_portal_tool=self.webpackChunkeso_portal_tool||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e=n(791),t=n(250);function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[G]}function a(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===$}(e)||Array.isArray(e)||!!e[K]||!!(null===(t=e.constructor)||void 0===t?void 0:t[K])||d(e)||h(e))}function o(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:Q)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[G];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:d(e)?2:h(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===s(e)?e.get(t):e[t]}function c(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){return q&&e instanceof Map}function h(e){return W&&e instanceof Set}function p(e){return e.o||e.t}function v(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[G];for(var n=Q(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),g(e)||i(e)||!a(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&o(e,(function(e,t){return m(t,!0)}),!0)),e}function y(){r(2)}function g(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function _(e){var t=J[e];return t||r(18,e),t}function b(e,t){J[e]||(J[e]=t)}function k(){return U}function w(e,t){t&&(_("Patches"),e.u=[],e.s=[],e.v=t)}function S(e){x(e),e.p.forEach(E),e.p=null}function x(e){e===U&&(U=e.l)}function C(e){return U={p:[],l:U,h:e,m:!0,_:0}}function E(e){var t=e[G];0===t.i||1===t.i?t.j():t.O=!0}function I(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||_("ES5").S(t,e,i),i?(n[G].P&&(S(t),r(4)),a(e)&&(e=T(t,e),t.l||P(t,e)),t.u&&_("Patches").M(n[G].t,e,t.u,t.s)):e=T(t,n,[]),S(t),t.u&&t.v(t.u,t.s),e!==V?e:void 0}function T(e,t,n){if(g(t))return t;var r=t[G];if(!r)return o(t,(function(i,a){return N(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return P(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=v(r.k):r.o,a=i,s=!1;3===r.i&&(a=new Set(i),i.clear(),s=!0),o(a,(function(t,a){return N(e,r,i,t,a,n,s)})),P(e,i,!1),n&&e.u&&_("Patches").N(r,n,e.u,e.s)}return r.o}function N(e,t,n,r,o,s,l){if(i(o)){var f=T(e,o,s&&t&&3!==t.i&&!u(t.R,r)?s.concat(r):void 0);if(c(n,r,f),!i(f))return;e.m=!1}else l&&n.add(o);if(a(o)&&!g(o)){if(!e.h.D&&e._<1)return;T(e,o),t&&t.A.l||P(e,o)}}function P(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&m(t,n)}function O(e,t){var n=e[G];return(n?p(n):e)[t]}function R(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function D(e){e.P||(e.P=!0,e.l&&D(e.l))}function A(e){e.o||(e.o=v(e.t))}function L(e,t,n){var r=d(t)?_("MapSet").F(t,n):h(t)?_("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:k(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Z;n&&(i=[r],a=X);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):_("ES5").J(t,n);return(n?n.A:k()).p.push(r),r}function M(e){return i(e)||r(22,e),function e(t){if(!a(t))return t;var n,r=t[G],i=s(t);if(r){if(!r.P&&(r.i<4||!_("ES5").K(r)))return r.t;r.I=!0,n=j(t,i),r.I=!1}else n=j(t,i);return o(n,(function(t,i){r&&l(r.t,t)===i||c(n,t,e(i))})),3===i?new Set(n):n}(e)}function j(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v(e)}function F(){function e(e,t){var n=a[e];return n?n.enumerable=t:a[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[G];return Z.get(t,e)},set:function(t){var n=this[G];Z.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][G];if(!i.P)switch(i.i){case 5:r(i)&&D(i);break;case 4:n(i)&&D(i)}}}function n(e){for(var t=e.t,n=e.k,r=Q(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==G){var o=t[a];if(void 0===o&&!u(t,a))return!0;var s=n[a],l=s&&s[G];if(l?l.t!==o:!f(s,o))return!0}}var c=!!t[G];return r.length!==Q(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var a={};b("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Y(n);delete a[G];for(var o=Q(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:k(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,G,{value:a,writable:!0}),i},S:function(e,n,a){a?i(n)&&n[G].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[G];if(n){var i=n.t,a=n.k,s=n.R,l=n.i;if(4===l)o(a,(function(t){t!==G&&(void 0!==i[t]||u(i,t)?s[t]||e(a[t]):(s[t]=!0,D(n)))})),o(i,(function(e){void 0!==a[e]||u(a,e)||(s[e]=!1,D(n))}));else if(5===l){if(r(n)&&(D(n),s.length=!0),a.length<i.length)for(var c=a.length;c<i.length;c++)s[c]=!1;else for(var f=i.length;f<a.length;f++)s[f]=!0;for(var d=Math.min(a.length,i.length),h=0;h<d;h++)a.hasOwnProperty(h)||(s[h]=!0),void 0===s[h]&&e(a[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var z,U,H="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),q="undefined"!=typeof Map,W="undefined"!=typeof Set,B="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,V=H?Symbol.for("immer-nothing"):((z={})["immer-nothing"]=!0,z),K=H?Symbol.for("immer-draftable"):"__$immer_draftable",G=H?Symbol.for("immer-state"):"__$immer_state",$=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Q="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return Q(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},J={},Z={get:function(e,t){if(t===G)return e;var n=p(e);if(!u(n,t))return function(e,t,n){var r,i=R(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!a(r)?r:r===O(e.t,t)?(A(e),e.o[t]=L(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=R(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=O(p(e),t),a=null==i?void 0:i[G];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(f(n,i)&&(void 0!==n||u(e.t,t)))return!0;A(e),D(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==O(e.t,t)||t in e.t?(e.R[t]=!1,A(e),D(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},X={};o(Z,(function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),X.deleteProperty=function(e,t){return X.set.call(this,e,t,void 0)},X.set=function(e,t,n){return Z.set.call(this,e[0],t,n,e[0])};var ee=function(){function e(e){var t=this;this.g=B,this.D=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var u;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),a(e)){var l=C(t),c=L(t,e,void 0),f=!0;try{u=n(c),f=!1}finally{f?S(l):x(l)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return w(l,i),I(e,l)}),(function(e){throw S(l),e})):(w(l,i),I(u,l))}if(!e||"object"!=typeof e){if(void 0===(u=n(e))&&(u=e),u===V&&(u=void 0),t.D&&m(u,!0),i){var d=[],h=[];_("Patches").M(e,u,d,h),i(d,h)}return u}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||r(8),i(e)&&(e=M(e));var t=C(this),n=L(this,e,void 0);return n[G].C=!0,x(t),n},t.finishDraft=function(e,t){var n=(e&&e[G]).A;return w(n,t),I(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!B&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=_("Patches").$;return i(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),te=new ee,ne=te.produce,re=(te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te),ne);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e){var t=function(e,t){if("object"!==ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ie(t)?t:String(t)}function oe(e,t,n){return(t=ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ce="function"===typeof Symbol&&Symbol.observable||"@@observable",fe=function(){return Math.random().toString(36).substring(7).split("").join(".")},de={INIT:"@@redux/INIT"+fe(),REPLACE:"@@redux/REPLACE"+fe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fe()}};function he(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function pe(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(le(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(le(1));return n(pe)(e,t)}if("function"!==typeof e)throw new Error(le(2));var i=e,a=t,o=[],s=o,u=!1;function l(){s===o&&(s=o.slice())}function c(){if(u)throw new Error(le(3));return a}function f(e){if("function"!==typeof e)throw new Error(le(4));if(u)throw new Error(le(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(le(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),o=null}}}function d(e){if(!he(e))throw new Error(le(7));if("undefined"===typeof e.type)throw new Error(le(8));if(u)throw new Error(le(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:de.INIT}),(r={dispatch:d,subscribe:f,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(le(10));i=e,d({type:de.REPLACE})}})[ce]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(le(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[ce]=function(){return this},e},r}function ve(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:de.INIT}))throw new Error(le(12));if("undefined"===typeof n(void 0,{type:de.PROBE_UNKNOWN_ACTION()}))throw new Error(le(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],l=n[u],c=e[u],f=l(c,t);if("undefined"===typeof f){t&&t.type;throw new Error(le(14))}i[u]=f,r=r||f!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(le(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=me.apply(void 0,a)(n.dispatch),ue(ue({},n),{},{dispatch:r})}}}function ge(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var _e=ge();_e.withExtraArgument=ge;var be=_e,ke=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),we=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Se=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},xe=Object.defineProperty,Ce=Object.defineProperties,Ee=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,Pe=function(e,t,n){return t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Oe=function(e,t){for(var n in t||(t={}))Te.call(t,n)&&Pe(e,n,t[n]);if(Ie)for(var r=0,i=Ie(t);r<i.length;r++){n=i[r];Ne.call(t,n)&&Pe(e,n,t[n])}return e},Re=function(e,t){return Ce(e,Ee(t))},De=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},Ae="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?me:me.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Le(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Me=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ke(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Se([void 0],e[0].concat(this)))):new(t.bind.apply(t,Se([void 0],e.concat(this))))},t}(Array);function je(e){return a(e)?re(e,(function(){})):e}function Fe(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Me);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(be.withExtraArgument(n.extraArgument)):r.push(be));0;return r}(e)}}var ze=!0;function Ue(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Oe(Oe({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function He(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function qe(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:je(e.initialState),o=e.reducers||{},s=Object.keys(o),u={},l={},c={};function f(){var t="function"===typeof e.extraReducers?He(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,s=t[1],u=void 0===s?[]:s,c=t[2],f=void 0===c?void 0:c,d=Oe(Oe({},o),l);return function(e,t,n,r){void 0===n&&(n=[]);var o,s="function"===typeof t?He(t):[t,n,r],u=s[0],l=s[1],c=s[2];if(function(e){return"function"===typeof e}(e))o=function(){return je(e())};else{var f=je(e);o=function(){return f}}function d(e,t){void 0===e&&(e=o());var n=Se([u[t.type]],l.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(i(e))return void 0===(r=n(e,t))?e:r;if(a(e))return re(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return d.getInitialState=o,d}(r,(function(e){for(var t in d)e.addCase(t,d[t]);for(var n=0,r=u;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}f&&e.addDefaultCase(f)}))}return s.forEach((function(e){var n,r,i=o[e],a=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,u[e]=n,l[a]=n,c[e]=r?Ue(a,r):Ue(a)})),{name:t,reducer:function(e,t){return n||(n=f()),n(e,t)},actions:c,caseReducers:u,getInitialState:function(){return n||(n=f()),n.getInitialState()}}}var We=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Be=["name","message","stack","code"],Ve=function(e,t){this.payload=e,this.meta=t},Ke=function(e,t){this.payload=e,this.meta=t},Ge=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Be;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=Ue(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Re(Oe({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Ue(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Re(Oe({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Ue(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Ge)(e||"Rejected"),meta:Re(Oe({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,l){var c,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):We(),d=new o;function h(e){c=e,d.abort()}var p=function(){return De(this,null,(function(){var o,p,v,m,y,g;return we(this,(function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:l}),null===(b=m)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,m];case 1:m=_.sent(),_.label=2;case 2:if(!1===m||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:l}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:u,extra:l,requestId:f,signal:d.signal,abort:h,rejectWithValue:function(e,t){return new Ve(e,t)},fulfillWithValue:function(e,t){return new Ke(e,t)}})).then((function(t){if(t instanceof Ve)throw t;return t instanceof Ke?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=_.sent(),[3,5];case 4:return g=_.sent(),v=g instanceof Ve?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:h,requestId:f,arg:e,unwrap:function(){return p.then($e)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function $e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Qe=function(e,t){if("function"!==typeof e)throw new TypeError(t+" is not a function")},Ye=function(){},Je=function(e,t){return void 0===t&&(t=Ye),e.catch(t),e},Ze=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Xe=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},et="listener",tt="completed",nt="cancelled",rt="task-"+nt,it="task-"+tt,at=et+"-"+nt,ot=et+"-"+tt,st=function(e){this.code=e,this.name="TaskAbortError",this.message="task "+nt+" (reason: "+e+")"},ut=function(e){if(e.aborted)throw new st(e.reason)};function lt(e,t){var n=Ye;return new Promise((function(r,i){var a=function(){return i(new st(e.reason))};e.aborted?a():(n=Ze(e,a),t.finally((function(){return n()})).then(r,i))})).finally((function(){n=Ye}))}var ct=function(e){return function(t){return Je(lt(e,t).then((function(t){return ut(e),t})))}},ft=function(e){var t=ct(e);return function(e){return t(new Promise((function(t){return setTimeout(t,e)})))}},dt=Object.assign,ht={},pt="listenerMiddleware",vt=function(e){return function(t){Qe(t,"taskExecutor");var n,r=new AbortController;n=r,Ze(e,(function(){return Xe(n,e.reason)}));var i,a,o=(i=function(){return De(void 0,null,(function(){var n;return we(this,(function(i){switch(i.label){case 0:return ut(e),ut(r.signal),[4,t({pause:ct(r.signal),delay:ft(r.signal),signal:r.signal})];case 1:return n=i.sent(),ut(r.signal),[2,n]}}))}))},a=function(){return Xe(r,it)},De(void 0,null,(function(){var e;return we(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return t.sent(),[4,i()];case 2:return[2,{status:"ok",value:t.sent()}];case 3:return[2,{status:(e=t.sent())instanceof st?"cancelled":"rejected",error:e}];case 4:return null==a||a(),[7];case 5:return[2]}}))})));return{result:ct(e)(o),cancel:function(){Xe(r,rt)}}}},mt=function(e,t){return function(n,r){return Je(function(n,r){return De(void 0,null,(function(){var i,a,o,s;return we(this,(function(u){switch(u.label){case 0:ut(t),i=function(){},a=new Promise((function(t,r){var a=e({predicate:n,effect:function(e,n){n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=function(){a(),r()}})),o=[a],null!=r&&o.push(new Promise((function(e){return setTimeout(e,r,null)}))),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,lt(t,Promise.race(o))];case 2:return s=u.sent(),ut(t),[2,s];case 3:return i(),[7];case 4:return[2]}}))}))}(n,r))}},yt=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,a=e.effect;if(t)i=Ue(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Qe(a,"options.listener"),{predicate:i,type:t,effect:a}},gt=function(e){var t=yt(e),n=t.type,r=t.predicate,i=t.effect;return{id:We(),effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}},_t=function(e){e.pending.forEach((function(e){Xe(e,at)}))},bt=function(e){return function(){e.forEach(_t),e.clear()}},kt=function(e,t,n){try{e(t,n)}catch(r){setTimeout((function(){throw r}),0)}},wt=Ue(pt+"/add"),St=Ue(pt+"/removeAll"),xt=Ue(pt+"/remove"),Ct=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Se([pt+"/error"],e))};"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Et,It=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:It(10);F();var Tt=function(e){var t=this;void 0===e&&(e={});var n=new Map,r=e.extra,i=e.onError,a=void 0===i?Ct:i;Qe(a,"onError");var o=function(e){for(var t=0,r=Array.from(n.values());t<r.length;t++){var i=r[t];if(e(i))return i}},s=function(e){var t=o((function(t){return t.effect===e.effect}));return t||(t=gt(e)),function(e){return e.unsubscribe=function(){return n.delete(e.id)},n.set(e.id,e),function(t){e.unsubscribe(),(null==t?void 0:t.cancelActive)&&_t(e)}}(t)},u=function(e){var t=yt(e),n=t.type,r=t.effect,i=t.predicate,a=o((function(e){return("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r}));return a&&(a.unsubscribe(),e.cancelActive&&_t(a)),!!a},l=function(e,i,o,u){return De(t,null,(function(){var t,l,c;return we(this,(function(f){switch(f.label){case 0:t=new AbortController,l=mt(s,t.signal),f.label=1;case 1:return f.trys.push([1,3,4,5]),e.pending.add(t),[4,Promise.resolve(e.effect(i,dt({},o,{getOriginalState:u,condition:function(e,t){return l(e,t).then(Boolean)},take:l,delay:ft(t.signal),pause:ct(t.signal),extra:r,signal:t.signal,fork:vt(t.signal),unsubscribe:e.unsubscribe,subscribe:function(){n.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach((function(e,n,r){e!==t&&(Xe(e,at),r.delete(e))}))}})))];case 2:return f.sent(),[3,5];case 3:return(c=f.sent())instanceof st||kt(a,c,{raisedBy:"effect"}),[3,5];case 4:return Xe(t,ot),e.pending.delete(t),[7];case 5:return[2]}}))}))},c=bt(n);return{middleware:function(e){return function(t){return function(r){if(wt.match(r))return s(r.payload);if(!St.match(r)){if(xt.match(r))return u(r.payload);var i,o=e.getState(),f=function(){if(o===ht)throw new Error(pt+": getOriginalState can only be called synchronously");return o};try{if(i=t(r),n.size>0)for(var d=e.getState(),h=Array.from(n.values()),p=0,v=h;p<v.length;p++){var m=v[p],y=!1;try{y=m.predicate(r,d,o)}catch(g){y=!1,kt(a,g,{raisedBy:"predicate"})}y&&l(m,r,e,f)}}finally{o=ht}return i}c()}}},startListening:s,stopListening:u,clearListeners:c}}(),Nt=Tt.middleware;function Pt(){Pt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:k(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=d.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=c(e[r],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==ie(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(g),u(g,s,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ot(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(ku){return void n(ku)}s.done?t(u):Promise.resolve(u).then(r,i)}function Rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ot(a,r,i,o,s,"next",e)}function s(e){Ot(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Dt(e){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dt(e)}function At(){return At="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},At.apply(this,arguments)}function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e,t){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mt(e,t)}function jt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}function Ft(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function zt(e){var t=Ft();return function(){var n,r=Dt(e);if(t){var i=Dt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ie(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lt(e)}(this,n)}}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e,t){if(e){if("string"===typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}function qt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ht(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||Ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ae(r.key),r)}}function Kt(e,t,n){return t&&Vt(e.prototype,t),n&&Vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gt(e){return function(e){if(Array.isArray(e))return Ut(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ht(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t,n){return $t=Ft()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Mt(i,n.prototype),i},$t.apply(null,arguments)}function Qt(e){var t="function"===typeof Map?new Map:void 0;return Qt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return $t(e,arguments,Dt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Mt(n,e)},Qt(e)}var Yt={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Jt=function(e,t){if(!e)throw Zt(t)},Zt=function(e){return new Error("Firebase Database ("+Yt.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},Xt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},en={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|l>>6,h=63&l;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new tn;var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},tn=function(e){jt(n,e);var t=zt(n);function n(){var e;return Bt(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Kt(n)}(Qt(Error)),nn=function(e){var t=Xt(e);return en.encodeByteArray(t,!0)},rn=function(e){return nn(e).replace(/\./g,"")},an=function(e){try{return en.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function on(e){return sn(void 0,e)}function sn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=sn(e[n],t[n]));return e}var un=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ln=function(){try{return un()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/eso-portal-tool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&an(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},cn=function(e){var t,n;return null===(n=null===(t=ln())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},fn=function(e){var t=cn(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},dn=function(){var e;return null===(e=ln())||void 0===e?void 0:e.config},hn=function(e){var t;return null===(t=ln())||void 0===t?void 0:t["_".concat(e)]},pn=function(){function e(){var t=this;Bt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Kt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function vn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function yn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function gn(){return!0===Yt.NODE_CLIENT||!0===Yt.NODE_ADMIN}function _n(){try{return"object"===typeof indexedDB}catch(e){return!1}}var bn=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Lt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Lt(a),kn.prototype.create),a}return Kt(n)}(Qt(Error)),kn=function(){function e(t,n,r){Bt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Kt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(wn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new bn(n,a,t)}}]),e}();var wn=/\{\$([^}]+)}/g;function Sn(e){return JSON.parse(e)}function xn(e){return JSON.stringify(e)}var Cn=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Sn(an(a[0])||""),n=Sn(an(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function En(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function In(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Tn(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Nn(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Pn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(On(s)&&On(u)){if(!Pn(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function On(e){return null!==e&&"object"===typeof e}function Rn(e){for(var t=[],n=function(){var e=Wt(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Dn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Wt(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function An(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ln=function(){function e(){Bt(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Kt(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],d=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=d^c&(f^d),u=1518500249):(s=c^f^d,u=1859775393):p<60?(s=c&f|d&(c|f),u=2400959708):(s=c^f^d,u=3395469782);var v=(l<<5|l>>>27)+s+h+u+n[p]&4294967295;h=d,d=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var Mn=function(){function e(t,n){var r=this;Bt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Kt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=qt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=jn),void 0===r.error&&(r.error=jn),void 0===r.complete&&(r.complete=jn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function jn(){}function Fn(e,t){return"".concat(e," failed: ").concat(t," argument ")}var zn=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Un(e){return e&&e._delegate?e._delegate:e}var Hn=function(){function e(t,n,r){Bt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Kt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),qn="[DEFAULT]",Wn=function(){function e(t,n){Bt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Kt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qn})}catch(u){}var t,n=qt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Wt(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Rt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Gt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Gt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=qt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=Wt(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=qt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===qn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;return this.component?this.component.multipleInstances?e:qn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Bn,Vn,Kn=function(){function e(t){Bt(this,e),this.name=t,this.providers=new Map}return Kt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Wn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Gn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vn||(Vn={}));var $n={debug:Vn.DEBUG,verbose:Vn.VERBOSE,info:Vn.INFO,warn:Vn.WARN,error:Vn.ERROR,silent:Vn.SILENT},Qn=Vn.INFO,Yn=(oe(Bn={},Vn.DEBUG,"log"),oe(Bn,Vn.VERBOSE,"log"),oe(Bn,Vn.INFO,"info"),oe(Bn,Vn.WARN,"warn"),oe(Bn,Vn.ERROR,"error"),Bn),Jn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Yn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Zn=function(){function e(t){Bt(this,e),this.name=t,this._logLevel=Qn,this._logHandler=Jn,this._userLogHandler=null,Gn.push(this)}return Kt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Vn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?$n[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vn.DEBUG].concat(t)),this._logHandler.apply(this,[this,Vn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Vn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vn.INFO].concat(t)),this._logHandler.apply(this,[this,Vn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vn.WARN].concat(t)),this._logHandler.apply(this,[this,Vn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vn.ERROR].concat(t)),this._logHandler.apply(this,[this,Vn.ERROR].concat(t))}}]),e}();var Xn,er,tr=function(e,t){return t.some((function(t){return e instanceof t}))};var nr=new WeakMap,rr=new WeakMap,ir=new WeakMap,ar=new WeakMap,or=new WeakMap;var sr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return rr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ir.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ur(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(er||(er=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(fr(this),n),cr(nr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cr(e.apply(fr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[fr(this),t].concat(r));return ir.set(a,t.sort?t.sort():[t]),cr(a)}}function lr(e){return"function"===typeof e?ur(e):(e instanceof IDBTransaction&&function(e){if(!rr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));rr.set(e,t)}}(e),tr(e,Xn||(Xn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,sr):e)}function cr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(cr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&nr.set(t,e)})).catch((function(){})),or.set(t,e),t}(e);if(ar.has(e))return ar.get(e);var t=lr(e);return t!==e&&(ar.set(e,t),or.set(t,e)),t}var fr=function(e){return or.get(e)};var dr,hr,pr=["get","getKey","getAll","getAllKeys","count"],vr=["put","add","delete","clear"],mr=new Map;function yr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(mr.get(t))return mr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=vr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||pr.includes(n))){var a=function(){var e=Rt(Pt().mark((function e(t){var a,o,s,u,l,c,f=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return mr.set(t,a),a}}}sr=function(e){return ue(ue({},e),{},{get:function(t,n,r){return yr(t,n)||e.get(t,n,r)},has:function(t,n){return!!yr(t,n)||e.has(t,n)}})}(sr);var gr=function(){function e(t){Bt(this,e),this.container=t}return Kt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var _r="@firebase/app",br="0.9.4",kr=new Zn("@firebase/app"),wr="[DEFAULT]",Sr=(oe(dr={},_r,"fire-core"),oe(dr,"@firebase/app-compat","fire-core-compat"),oe(dr,"@firebase/analytics","fire-analytics"),oe(dr,"@firebase/analytics-compat","fire-analytics-compat"),oe(dr,"@firebase/app-check","fire-app-check"),oe(dr,"@firebase/app-check-compat","fire-app-check-compat"),oe(dr,"@firebase/auth","fire-auth"),oe(dr,"@firebase/auth-compat","fire-auth-compat"),oe(dr,"@firebase/database","fire-rtdb"),oe(dr,"@firebase/database-compat","fire-rtdb-compat"),oe(dr,"@firebase/functions","fire-fn"),oe(dr,"@firebase/functions-compat","fire-fn-compat"),oe(dr,"@firebase/installations","fire-iid"),oe(dr,"@firebase/installations-compat","fire-iid-compat"),oe(dr,"@firebase/messaging","fire-fcm"),oe(dr,"@firebase/messaging-compat","fire-fcm-compat"),oe(dr,"@firebase/performance","fire-perf"),oe(dr,"@firebase/performance-compat","fire-perf-compat"),oe(dr,"@firebase/remote-config","fire-rc"),oe(dr,"@firebase/remote-config-compat","fire-rc-compat"),oe(dr,"@firebase/storage","fire-gcs"),oe(dr,"@firebase/storage-compat","fire-gcs-compat"),oe(dr,"@firebase/firestore","fire-fst"),oe(dr,"@firebase/firestore-compat","fire-fst-compat"),oe(dr,"fire-js","fire-js"),oe(dr,"firebase","fire-js-all"),dr),xr=new Map,Cr=new Map;function Er(e,t){try{e.container.addComponent(t)}catch(n){kr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ir(e){var t=e.name;if(Cr.has(t))return kr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Cr.set(t,e);var n,r=qt(xr.values());try{for(r.s();!(n=r.n()).done;){Er(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Tr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Nr=(oe(hr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),oe(hr,"bad-app-name","Illegal App name: '{$appName}"),oe(hr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),oe(hr,"app-deleted","Firebase App named '{$appName}' already deleted"),oe(hr,"no-options","Need to provide options, when not being deployed to hosting via source."),oe(hr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),oe(hr,"invalid-log-argument","First argument to `onLog` must be null or a function."),oe(hr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),oe(hr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),oe(hr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),oe(hr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),hr),Pr=new kn("app","Firebase",Nr),Or=function(){function e(t,n,r){var i=this;Bt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hn("app",(function(){return i}),"PUBLIC"))}return Kt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}]),e}(),Rr="9.17.2";function Dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:wr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Pr.create("bad-app-name",{appName:String(i)});if(n||(n=dn()),!n)throw Pr.create("no-options");var a=xr.get(i);if(a){if(Pn(n,a.options)&&Pn(r,a.config))return a;throw Pr.create("duplicate-app",{appName:i})}var o,s=new Kn(i),u=qt(Cr.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(f){u.e(f)}finally{u.f()}var c=new Or(n,r,s);return xr.set(i,c),c}function Ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr,t=xr.get(e);if(!t&&e===wr)return Dr();if(!t)throw Pr.create("no-app",{appName:e});return t}function Lr(e,t,n){var r,i=null!==(r=Sr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void kr.warn(s.join(" "))}Ir(new Hn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Mr="firebase-heartbeat-database",jr=1,Fr="firebase-heartbeat-store",zr=null;function Ur(){return zr||(zr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=cr(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(cr(s.result),e.oldVersion,e.newVersion,cr(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Mr,jr,{upgrade:function(e,t){if(0===t)e.createObjectStore(Fr)}}).catch((function(e){throw Pr.create("idb-open",{originalErrorMessage:e.message})}))),zr}function Hr(e){return qr.apply(this,arguments)}function qr(){return qr=Rt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ur();case 3:return n=e.sent,e.abrupt("return",n.transaction(Fr).objectStore(Fr).get(Vr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof bn?kr.warn(e.t0.message):(r=Pr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),kr.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),qr.apply(this,arguments)}function Wr(e,t){return Br.apply(this,arguments)}function Br(){return Br=Rt(Pt().mark((function e(t,n){var r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ur();case 3:return r=e.sent,i=r.transaction(Fr,"readwrite"),a=i.objectStore(Fr),e.next=8,a.put(n,Vr(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof bn?kr.warn(e.t0.message):(o=Pr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),kr.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Br.apply(this,arguments)}function Vr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Kr=1024,Gr=function(){function e(t){var n=this;Bt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Jr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Kt(e,[{key:"triggerHeartbeat",value:function(){var e=Rt(Pt().mark((function e(){var t,n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=$r(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Rt(Pt().mark((function e(){var t,n,r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=$r(),n=Qr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=rn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $r(){return(new Date).toISOString().substring(0,10)}function Qr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kr,r=[],i=e.slice(),a=qt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Zr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Zr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Yr,Jr=function(){function e(t){Bt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Kt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_n()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(ku){t(ku)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Rt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Hr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Rt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Rt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Gt(r.heartbeats),Gt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Zr(e){return rn(JSON.stringify({version:2,heartbeats:e})).length}Yr="",Ir(new Hn("platform-logger",(function(e){return new gr(e)}),"PRIVATE")),Ir(new Hn("heartbeat",(function(e){return new Gr(e)}),"PRIVATE")),Lr(_r,br,Yr),Lr(_r,br,"esm2017"),Lr("fire-js","");function Xr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ei;Object.create;function ti(){return oe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ni=ti,ri=new kn("auth","Firebase",ti()),ii=new Zn("@firebase/auth");function ai(e){if(ii.logLevel<=Vn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ii.error.apply(ii,["Auth (".concat(Rr,"): ").concat(e)].concat(n))}}function oi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw li.apply(void 0,[e].concat(n))}function si(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return li.apply(void 0,[e].concat(n))}function ui(e,t,n){var r=Object.assign(Object.assign({},ni()),oe({},t,n));return new kn("auth","Firebase",r).create(t,{appName:e.name})}function li(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Gt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Gt(o)))}return ri.create.apply(ri,[e].concat(n))}function ci(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw li.apply(void 0,[t].concat(r))}}function fi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ai(t),new Error(t)}function di(e,t){e||fi(t)}var hi=new Map;function pi(e){di(e instanceof Function,"Expected a class definition");var t=hi.get(e);return t?(di(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hi.set(e,t),t)}function vi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mi(){return"http:"===yi()||"https:"===yi()}function yi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function gi(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mi()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var _i=function(){function e(t,n){Bt(this,e),this.shortDelay=t,this.longDelay=n,di(n>t,"Short delay should be less than long delay!"),this.isMobile=mn()||yn()}return Kt(e,[{key:"get",value:function(){return gi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function bi(e,t){di(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ki=function(){function e(){Bt(this,e)}return Kt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),wi=(oe(ei={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),oe(ei,"MISSING_CUSTOM_TOKEN","internal-error"),oe(ei,"INVALID_IDENTIFIER","invalid-email"),oe(ei,"MISSING_CONTINUE_URI","internal-error"),oe(ei,"INVALID_PASSWORD","wrong-password"),oe(ei,"MISSING_PASSWORD","internal-error"),oe(ei,"EMAIL_EXISTS","email-already-in-use"),oe(ei,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),oe(ei,"INVALID_IDP_RESPONSE","invalid-credential"),oe(ei,"INVALID_PENDING_TOKEN","invalid-credential"),oe(ei,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),oe(ei,"MISSING_REQ_TYPE","internal-error"),oe(ei,"EMAIL_NOT_FOUND","user-not-found"),oe(ei,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),oe(ei,"EXPIRED_OOB_CODE","expired-action-code"),oe(ei,"INVALID_OOB_CODE","invalid-action-code"),oe(ei,"MISSING_OOB_CODE","internal-error"),oe(ei,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),oe(ei,"INVALID_ID_TOKEN","invalid-user-token"),oe(ei,"TOKEN_EXPIRED","user-token-expired"),oe(ei,"USER_NOT_FOUND","user-token-expired"),oe(ei,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),oe(ei,"INVALID_CODE","invalid-verification-code"),oe(ei,"INVALID_SESSION_INFO","invalid-verification-id"),oe(ei,"INVALID_TEMPORARY_PROOF","invalid-credential"),oe(ei,"MISSING_SESSION_INFO","missing-verification-id"),oe(ei,"SESSION_EXPIRED","code-expired"),oe(ei,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),oe(ei,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),oe(ei,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),oe(ei,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),oe(ei,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),oe(ei,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),oe(ei,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),oe(ei,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),oe(ei,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),oe(ei,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),oe(ei,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ei),Si=new _i(3e4,6e4);function xi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ci(e,t,n,r){return Ei.apply(this,arguments)}function Ei(){return Ei=Rt(Pt().mark((function e(t,n,r,i){var a,o=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ii(t,a,Rt(Pt().mark((function e(){var a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Rn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ki.fetch()(Oi(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function Ii(e,t,n){return Ti.apply(this,arguments)}function Ti(){return Ti=Rt(Pt().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,d,h;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},wi),n),e.prev=2,a=new Ri(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Di(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),c=Wt(l,2),f=c[0],d=c[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Di(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Di(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Di(t,"user-disabled",s);case 29:if(h=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw ui(t,h,d);case 34:oi(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof bn)){e.next=41;break}throw e.t0;case 41:oi(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ti.apply(this,arguments)}function Ni(e,t,n,r){return Pi.apply(this,arguments)}function Pi(){return Pi=Rt(Pt().mark((function e(t,n,r,i){var a,o,s=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Ci(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&oi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Oi(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?bi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ri=function(){function e(t){var n=this;Bt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(si(n.auth,"network-request-failed"))}),Si.get())}))}return Kt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Di(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=si(e,t,r);return i.customData._tokenResponse=n,i}function Ai(e,t){return Li.apply(this,arguments)}function Li(){return Li=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ci(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}function Mi(e,t){return ji.apply(this,arguments)}function ji(){return ji=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ci(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Fi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function zi(){return zi=Rt(Pt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Un(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ci((a=Hi(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Fi(Ui(a.auth_time)),issuedAtTime:Fi(Ui(a.iat)),expirationTime:Fi(Ui(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function Ui(e){return 1e3*Number(e)}function Hi(e){var t=Wt(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ai("JWT malformed, contained fewer than 3 sections"),null;try{var a=an(r);return a?JSON.parse(a):(ai("Failed to decode base64 JWT payload"),null)}catch(o){return ai("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function qi(e,t){return Wi.apply(this,arguments)}function Wi(){return Wi=Rt(Pt().mark((function e(t,n){var r=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof bn&&Bi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Wi.apply(this,arguments)}function Bi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Vi=function(){function e(t){Bt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Kt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Rt(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ki=function(){function e(t,n){Bt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Kt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Fi(this.lastLoginAt),this.creationTime=Fi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Gi(e){return $i.apply(this,arguments)}function $i(){return $i=Rt(Pt().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,d;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,qi(t,Mi(r,{idToken:i}));case 6:ci(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Xr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Yi(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ki(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Qi(){return(Qi=Rt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Un(t),e.next=3,Gi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Gt(n),Gt(t))}function Ji(e,t){return Zi.apply(this,arguments)}function Zi(){return Zi=Rt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ii(t,{},Rt(Pt().mark((function e(){var r,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Oi(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ki.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}var Xi=function(){function e(){Bt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Kt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ci(e.idToken,"internal-error"),ci("undefined"!==typeof e.idToken,"internal-error"),ci("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Hi(e);return ci(t,"internal-error"),ci("undefined"!==typeof t.exp,"internal-error"),ci("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Rt(Pt().mark((function e(t){var n,r=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ci(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Rt(Pt().mark((function e(t,n){var r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ji(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return fi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ci("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ci("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ci("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ea(e,t){ci("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ta=function(){function e(t){Bt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Xr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Gt(a.providerData):[],this.metadata=new Ki(a.createdAt||void 0,a.lastLoginAt||void 0)}return Kt(e,[{key:"getIdToken",value:function(){var e=Rt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ci(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return zi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Qi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ci(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ci(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Rt(Pt().mark((function e(t){var n,r,i=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Gi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Rt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,qi(this,Ai(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,_=n.uid,b=n.emailVerified,k=n.isAnonymous,w=n.providerData,S=n.stsTokenManager;ci(_&&S,t,"internal-error");var x=Xi.fromJSON(this.name,S);ci("string"===typeof _,t,"internal-error"),ea(f,t.name),ea(d,t.name),ci("boolean"===typeof b,t,"internal-error"),ci("boolean"===typeof k,t,"internal-error"),ea(h,t.name),ea(p,t.name),ea(v,t.name),ea(m,t.name),ea(y,t.name),ea(g,t.name);var C=new e({uid:_,auth:t,email:d,emailVerified:b,displayName:f,isAnonymous:k,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:x,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(C.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(C._redirectEventId=m),C}},{key:"_fromIdTokenResponse",value:function(){var t=Rt(Pt().mark((function t(n,r){var i,a,o,s=arguments;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Xi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Gi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),na=function(){function e(){Bt(this,e),this.type="NONE",this.storage={}}return Kt(e,[{key:"_isAvailable",value:function(){var e=Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Rt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Rt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();na.type="NONE";var ra=na;function ia(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var aa=function(){function e(t,n,r){Bt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ia(this.userKey,a.apiKey,o),this.fullPersistenceKey=ia("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Kt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Rt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ta._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Rt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Rt(Pt().mark((function t(n,r){var i,a,o,s,u,l,c,f,d,h,p,v=arguments;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(pi(ra),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Rt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||pi(ra),s=ia(i,n.config.apiKey,n.name),u=null,l=qt(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return f=c.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return h=ta._fromJSON(n,d),f!==o&&(u=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Rt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function oa(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ca(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(da(t))return"Blackberry";if(ha(t))return"Webos";if(ua(t))return"Safari";if((t.includes("chrome/")||la(t))&&!t.includes("edge/"))return"Chrome";if(fa(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/firefox\//i.test(e)}function ua(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function la(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/crios\//i.test(e)}function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/iemobile/i.test(e)}function fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/android/i.test(e)}function da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/blackberry/i.test(e)}function ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/webos/i.test(e)}function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function va(){return function(){var e=vn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return pa(e)||fa(e)||ha(e)||da(e)||/windows phone/i.test(e)||ca(e)}function ya(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oa(vn());break;case"Worker":t="".concat(oa(vn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Rr,"/").concat(r)}var ga=function(){function e(t){Bt(this,e),this.auth=t,this.queue=[]}return Kt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Rt(Pt().mark((function e(t){var n,r,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=qt(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=qt(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(k){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_a=function(){function e(t,n,r){Bt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ka(this),this.idTokenSubscription=new ka(this),this.beforeStateQueue=new ga(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ri,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Kt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=pi(t)),this._initializationPromise=this.queue(Rt(Pt().mark((function r(){var i,a;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,aa.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Rt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Rt(Pt().mark((function e(t){var n,r,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ci(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Rt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Rt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Rt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Un(t):null)&&ci(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Rt(Pt().mark((function e(t){var n,r=this,i=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ci(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Rt(Pt().mark((function n(){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(pi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new kn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Rt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Rt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ci(n=t&&pi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,aa.create(this,[pi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Rt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Rt(Pt().mark((function e(t){var n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ci(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Rt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ci(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ya(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Rt(Pt().mark((function e(){var t,n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ba(e){return Un(e)}var ka=function(){function e(t){var n=this;Bt(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Mn(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Kt(e,[{key:"next",get:function(){return ci(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function wa(e,t,n){var r=ba(e);ci(r._canInitEmulator,r,"emulator-config-failed"),ci(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Sa(t),o=function(e){var t=Sa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:xa(r.substr(a.length+1))}}var o=Wt(r.split(":"),2);return{host:o[0],port:xa(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Sa(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xa(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ca=function(){function e(t,n){Bt(this,e),this.providerId=t,this.signInMethod=n}return Kt(e,[{key:"toJSON",value:function(){return fi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return fi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return fi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return fi("not implemented")}}]),e}();function Ea(e,t){return Ia.apply(this,arguments)}function Ia(){return Ia=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ci(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Ta(e,t){return Na.apply(this,arguments)}function Na(){return Na=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(t,"POST","/v1/accounts:signInWithPassword",xi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}function Pa(e,t){return Oa.apply(this,arguments)}function Oa(){return Oa=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function Ra(e,t){return Da.apply(this,arguments)}function Da(){return Da=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}var Aa=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Bt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Kt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Rt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ta(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Pa(t,{email:this._email,oobCode:this._password}));case 5:oi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ea(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ra(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:oi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ca);function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(t,"POST","/v1/accounts:signInWithIdp",xi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}var ja=function(e){jt(n,e);var t=zt(n);function n(){var e;return Bt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Kt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return La(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,La(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,La(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Xr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ca);function Fa(e,t){return za.apply(this,arguments)}function za(){return za=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ci(t,"POST","/v1/accounts:sendVerificationCode",xi(t,n)));case 1:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Ua(){return Ua=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(t,"POST","/v1/accounts:signInWithPhoneNumber",xi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}function Ha(){return Ha=Rt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ni(t,"POST","/v1/accounts:signInWithPhoneNumber",xi(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Di(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}var qa=oe({},"USER_NOT_FOUND","user-not-found");function Wa(){return Wa=Rt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ni(t,"POST","/v1/accounts:signInWithPhoneNumber",xi(t,r),qa));case 2:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}var Ba=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Bt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Kt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ua.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ha.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Wa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ca);var Va=function(){function e(t){var n,r,i,a,o,s;Bt(this,e);var u=Dn(An(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ci(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Kt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Dn(An(e)).link,n=t?Dn(An(t)).deep_link_id:null,r=Dn(An(e)).deep_link_id;return(r?Dn(An(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ka=function(){function e(){Bt(this,e),this.providerId=e.PROVIDER_ID}return Kt(e,null,[{key:"credential",value:function(e,t){return Aa._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Va.parseLink(t);return ci(n,"argument-error"),Aa._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ka.PROVIDER_ID="password",Ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ga=function(){function e(t){Bt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Kt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),$a=function(e){jt(n,e);var t=zt(n);function n(){var e;return Bt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Kt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Gt(this.scopes)}}]),n}(Ga),Qa=function(e){jt(n,e);var t=zt(n);function n(){return Bt(this,n),t.call(this,"facebook.com")}return Kt(n,null,[{key:"credential",value:function(e){return ja._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}($a);Qa.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qa.PROVIDER_ID="facebook.com";var Ya=function(e){jt(n,e);var t=zt(n);function n(){var e;return Bt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Kt(n,null,[{key:"credential",value:function(e,t){return ja._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}($a);Ya.GOOGLE_SIGN_IN_METHOD="google.com",Ya.PROVIDER_ID="google.com";var Ja=function(e){jt(n,e);var t=zt(n);function n(){return Bt(this,n),t.call(this,"github.com")}return Kt(n,null,[{key:"credential",value:function(e){return ja._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}($a);Ja.GITHUB_SIGN_IN_METHOD="github.com",Ja.PROVIDER_ID="github.com";var Za=function(e){jt(n,e);var t=zt(n);function n(){return Bt(this,n),t.call(this,"twitter.com")}return Kt(n,null,[{key:"credential",value:function(e,t){return ja._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}($a);Za.TWITTER_SIGN_IN_METHOD="twitter.com",Za.PROVIDER_ID="twitter.com";var Xa=function(){function e(t){Bt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Kt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Rt(Pt().mark((function t(n,r,i){var a,o,s,u,l=arguments;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,ta._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=eo(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Rt(Pt().mark((function t(n,r,i){var a;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=eo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function eo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var to=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a){var o,s;return Bt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Lt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Kt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(bn);function no(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw to._fromErrorAndOperation(e,n,t,r);throw n}))}function ro(e,t){return io.apply(this,arguments)}function io(){return io=Rt(Pt().mark((function e(t,n){var r,i,a=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=qi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Xa._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return oo=Rt(Pt().mark((function e(t,n){var r,i,a,o,s,u,l=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,qi(t,no(i,a,n,t),r);case 6:return ci((o=e.sent).idToken,i,"internal-error"),ci(s=Hi(o.idToken),i,"internal-error"),u=s.sub,ci(t.uid===u,i,"user-mismatch"),e.abrupt("return",Xa._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&oi(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),oo.apply(this,arguments)}function so(e,t){return uo.apply(this,arguments)}function uo(){return uo=Rt(Pt().mark((function e(t,n){var r,i,a,o,s=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,no(t,i,n);case 4:return a=e.sent,e.next=7,Xa._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function lo(e,t){return co.apply(this,arguments)}function co(){return co=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",so(ba(t),n));case 1:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function fo(e,t){return Ci(e,"POST","/v2/accounts/mfaEnrollment:start",xi(e,t))}new WeakMap;var ho="__sak",po=function(){function e(t,n){Bt(this,e),this.storageRetriever=t,this.type=n}return Kt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ho,"1"),this.storage.removeItem(ho),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var vo=function(e){jt(n,e);var t=zt(n);function n(){var e;return Bt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=vn();return ua(e)||pa(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ma(),e._shouldAllowMigration=!0,e}return Kt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);va()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Rt(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(Dt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Rt(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(Dt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Rt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(Dt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(po);vo.type="LOCAL";var mo=vo,yo=function(e){jt(n,e);var t=zt(n);function n(){return Bt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Kt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(po);yo.type="SESSION";var go=yo;function _o(e){return Promise.all(e.map(function(){var e=Rt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var bo=function(){function e(t){Bt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Kt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Rt(Pt().mark((function e(t){var n,r,i,a,o,s,u,l;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Rt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,_o(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ko(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}bo.receivers=[];var wo=function(){function e(t){Bt(this,e),this.target=t,this.handlers=new Set}return Kt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Rt(Pt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=ko("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function So(){return window}function xo(){return"undefined"!==typeof So().WorkerGlobalScope&&"function"===typeof So().importScripts}function Co(){return Eo.apply(this,arguments)}function Eo(){return(Eo=Rt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Io(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var To="firebaseLocalStorageDb",No=1,Po="firebaseLocalStorage",Oo="fbase_key",Ro=function(){function e(t){Bt(this,e),this.request=t}return Kt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Do(e,t){return e.transaction([Po],t?"readwrite":"readonly").objectStore(Po)}function Ao(){var e=indexedDB.deleteDatabase(To);return new Ro(e).toPromise()}function Lo(){var e=indexedDB.open(To,No);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Po,{keyPath:Oo})}catch(r){n(r)}})),e.addEventListener("success",Rt(Pt().mark((function n(){var r;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Po)){n.next=12;break}return r.close(),n.next=5,Ao();case 5:return n.t0=t,n.next=8,Lo();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Mo(e,t,n){return jo.apply(this,arguments)}function jo(){return jo=Rt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Do(t,!0).put((oe(i={},Oo,n),oe(i,"value",r),i)),e.abrupt("return",new Ro(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Fo(e,t){return zo.apply(this,arguments)}function zo(){return zo=Rt(Pt().mark((function e(t,n){var r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Do(t,!1).get(n),e.next=3,new Ro(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Uo(e,t){var n=Do(e,!0).delete(t);return new Ro(n).toPromise()}var Ho=function(){function e(){Bt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Kt(e,[{key:"_openDb",value:function(){var e=Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Lo();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Rt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xo()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Rt(Pt().mark((function e(){var t=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=bo._getInstance(xo()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Rt(Pt().mark((function e(n,r){var i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Rt(Pt().mark((function e(){var t,n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new wo(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Rt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Io()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Rt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Lo();case 5:return t=e.sent,e.next=8,Mo(t,ho,"1");case 8:return e.next=10,Uo(t,ho);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Rt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Rt(Pt().mark((function e(t,n){var r=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Mo(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Rt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Fo(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Rt(Pt().mark((function e(t){var n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Uo(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Rt(Pt().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Do(e,!1).getAll();return new Ro(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=qt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)f=c[l],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Rt(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ho.type="LOCAL";var qo=Ho;function Wo(e,t){return Ci(e,"POST","/v2/accounts/mfaSignIn:start",xi(e,t))}function Bo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=si("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Vo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Vo("rcb"),new _i(3e4,6e4);var Ko="recaptcha";function Go(e,t,n){return $o.apply(this,arguments)}function $o(){return $o=Rt(Pt().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,d;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ci("string"===typeof a,t,"argument-error"),ci(r.type===Ko,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return ci("enroll"===s.type,t,"internal-error"),e.next=13,fo(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ci("signin"===s.type,t,"internal-error"),ci(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Wo(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Fa(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),$o.apply(this,arguments)}var Qo=function(){function e(t){Bt(this,e),this.providerId=e.PROVIDER_ID,this.auth=ba(t)}return Kt(e,[{key:"verifyPhoneNumber",value:function(e,t){return Go(this.auth,e,Un(t))}}],[{key:"credential",value:function(e,t){return Ba._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ba._fromTokenResponse(n,r):null}}]),e}();function Yo(e,t){return t?pi(t):(ci(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Qo.PROVIDER_ID="phone",Qo.PHONE_SIGN_IN_METHOD="phone";var Jo=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Bt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Kt(n,[{key:"_getIdTokenResponse",value:function(e){return La(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return La(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return La(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ca);function Zo(e){return so(e.auth,new Jo(e),e.bypassAuthState)}function Xo(e){var t=e.auth,n=e.user;return ci(n,t,"internal-error"),ao(n,new Jo(e),e.bypassAuthState)}function es(e){return ts.apply(this,arguments)}function ts(){return ts=Rt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ci(r=t.user,n,"internal-error"),e.abrupt("return",ro(r,new Jo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}var ns=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Bt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Kt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Rt(Pt().mark((function t(n,r){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Rt(Pt().mark((function e(t){var n,r,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zo;case"linkViaPopup":case"linkViaRedirect":return es;case"reauthViaPopup":case"reauthViaRedirect":return Xo;default:oi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),rs=new _i(2e3,1e4);var is=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a,o){var s;return Bt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Lt(s),s}return Kt(n,[{key:"executeNotNull",value:function(){var e=Rt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ci(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Rt(Pt().mark((function e(){var t,n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return di(1===this.filter.length,"Popup operations only handle one event"),t=ko(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(si(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(si(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(si(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,rs.get())}()}}]),n}(ns);is.currentPopupAction=null;var as="pendingRedirect",os=new Map,ss=function(e){jt(n,e);var t=zt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Bt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Kt(n,[{key:"execute",value:function(){var e=Rt(Pt().mark((function e(){var t,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=os.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,us(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,At(Dt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:os.set(this.auth._key(),t);case 21:return this.bypassAuthState||os.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Rt(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",At(Dt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",At(Dt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Rt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ns);function us(e,t){return ls.apply(this,arguments)}function ls(){return ls=Rt(Pt().mark((function e(t,n){var r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ds(n),i=fs(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}function cs(e,t){os.set(e._key(),t)}function fs(e){return pi(e._redirectPersistence)}function ds(e){return ia(as,e.config.apiKey,e.name)}function hs(e,t){return ps.apply(this,arguments)}function ps(){return ps=Rt(Pt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ba(t),a=Yo(i,n),o=new ss(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}var vs=function(){function e(t){Bt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Kt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ys(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ys(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(si(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ms(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ms(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ms(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ys(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function gs(e){return _s.apply(this,arguments)}function _s(){return _s=Rt(Pt().mark((function e(t){var n,r=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ci(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}var bs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ks=/^https?/;function ws(){return ws=Rt(Pt().mark((function e(t){var n,r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,gs(t);case 4:n=e.sent,r=n.authorizedDomains,i=qt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ss(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:oi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ws.apply(this,arguments)}function Ss(e){var t=vi(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ks.test(r))return!1;if(bs.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var xs=new _i(3e4,6e4);function Cs(){var e=So().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Gt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Es=null;function Is(e){return Es=Es||function(e){return new Promise((function(t,n){var r,i,a;function o(){Cs(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Cs(),n(si(e,"network-request-failed"))},timeout:xs.get()})}if(null===(i=null===(r=So().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=So().gapi)||void 0===a?void 0:a.load)){var s=Vo("iframefcb");return So()[s]=function(){gapi.load?o():n(si(e,"network-request-failed"))},Bo("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Es=null,e}))}(e),Es}var Ts=new _i(5e3,15e3),Ns="__/auth/iframe",Ps="emulator/auth/iframe",Os={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ds(e){var t=e.config;ci(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?bi(t,Ps):"https://".concat(e.config.authDomain,"/").concat(Ns),r={apiKey:t.apiKey,appName:e.name,v:Rr},i=Rs.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Rn(r).slice(1))}function As(e){return Ls.apply(this,arguments)}function Ls(){return Ls=Rt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Is(t);case 2:return n=e.sent,ci(r=So().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ds(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Os,dontclear:!0},(function(e){return new Promise(function(){var n=Rt(Pt().mark((function n(r,i){var a,o,s;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){So().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=si(t,"network-request-failed"),o=So().setTimeout((function(){i(a)}),Ts.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}var Ms={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},js=500,Fs=600,zs="_blank",Us="http://localhost",Hs=function(){function e(t){Bt(this,e),this.window=t,this.associatedEvent=null}return Kt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function qs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:js,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fs,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ms),{width:r.toString(),height:i.toString(),top:a,left:o}),l=vn().toLowerCase();n&&(s=la(l)?zs:n),sa(l)&&(t=t||Us,u.scrollbars="yes");var c=Object.entries(u).reduce((function(e,t){var n=Wt(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return pa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Hs(null);var f=window.open(t||"",s,c);ci(f,e,"popup-blocked");try{f.focus()}catch(d){}return new Hs(f)}var Ws="__/auth/handler",Bs="emulator/auth/handler";function Vs(e,t,n,r,i,a){ci(e.config.authDomain,e,"auth-domain-config-required"),ci(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Rr,eventId:i};if(t instanceof Ga){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Tn(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=Wt(u[s],2),c=l[0],f=l[1];o[c]=f}}if(t instanceof $a){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var h=o,p=0,v=Object.keys(h);p<v.length;p++){var m=v[p];void 0===h[m]&&delete h[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ws);return bi(t,Bs)}(e),"?").concat(Rn(h).slice(1))}var Ks="webStorageSupport",Gs=function(){function e(){Bt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=go,this._completeRedirectFn=hs,this._overrideRedirectResult=cs}return Kt(e,[{key:"_openPopup",value:function(){var e=Rt(Pt().mark((function e(t,n,r,i){var a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return di(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Vs(t,n,r,vi(),i),e.abrupt("return",qs(t,o,ko()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Rt(Pt().mark((function e(t,n,r,i){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Vs(t,n,r,vi(),i),So().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(di(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Rt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As(t);case 2:return n=e.sent,r=new vs(t),n.register("authEvent",(function(e){return ci(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ks,{type:Ks},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ks];void 0!==i&&t(!!i),oi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ws.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ma()||ua()||pa()}}]),e}(),$s=Gs,Qs=function(){function e(t){Bt(this,e),this.factorId=t}return Kt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return fi("unexpected MultiFactorSessionType")}}}]),e}(),Ys=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Bt(this,n),(r=t.call(this,"phone")).credential=e,r}return Kt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ci(e,"POST","/v2/accounts/mfaEnrollment:finalize",xi(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ci(e,"POST","/v2/accounts/mfaSignIn:finalize",xi(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Qs);(function(){function e(){Bt(this,e)}return Kt(e,null,[{key:"assertion",value:function(e){return Ys._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Js="@firebase/auth",Zs="0.21.4",Xs=function(){function e(t){Bt(this,e),this.auth=t,this.internalListeners=new Map}return Kt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Rt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ci(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var eu,tu=hn("authIdTokenMaxAge")||300,nu=null,ru=function(e){return function(){var t=Rt(Pt().mark((function t(n){var r,i,a;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>tu)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,nu!==a){t.next=12;break}return t.abrupt("return");case 12:return nu=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};eu="Browser",Ir(new Hn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){ci(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ci(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:eu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ya(eu)},i=new _a(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ir(new Hn("auth-internal",(function(e){return function(e){return new Xs(e)}(ba(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Js,Zs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(eu)),Lr(Js,Zs,"esm2017");var iu="@firebase/database",au="0.14.4",ou="";var su=function(){function e(t){Bt(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Kt(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xn(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Sn(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),uu=function(){function e(){Bt(this,e),this.cache_={},this.isInMemoryStorage=!0}return Kt(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return En(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),lu=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new su(t)}}catch(n){}return new uu},cu=lu("localStorage"),fu=lu("sessionStorage"),du=new Zn("@firebase/database"),hu=function(){var e=1;return function(){return e++}}(),pu=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Jt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ln;n.update(t);var r=n.digest();return en.encodeByteArray(r)},vu=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?xn(r):r,t+=" "}return t},mu=null,yu=!0,gu=function(e,t){Jt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(du.logLevel=Vn.VERBOSE,mu=du.log.bind(du),t&&fu.set("logging_enabled",!0)):"function"===typeof e?mu=e:(mu=null,fu.remove("logging_enabled"))},_u=function(){if(!0===yu&&(yu=!1,null===mu&&!0===fu.get("logging_enabled")&&gu(!0)),mu){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=vu.apply(null,t);mu(r)}},bu=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];_u.apply(void 0,[e].concat(n))}},ku=function(){var e="FIREBASE INTERNAL ERROR: "+vu.apply(void 0,arguments);du.error(e)},wu=function(){var e="FIREBASE FATAL ERROR: ".concat(vu.apply(void 0,arguments));throw du.error(e),new Error(e)},Su=function(){var e="FIREBASE WARNING: "+vu.apply(void 0,arguments);du.warn(e)},xu=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Cu="[MIN_NAME]",Eu="[MAX_NAME]",Iu=function(e,t){if(e===t)return 0;if(e===Cu||t===Eu)return-1;if(t===Cu||e===Eu)return 1;var n=Lu(e),r=Lu(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Tu=function(e,t){return e===t?0:e<t?-1:1},Nu=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+xn(t))},Pu=function e(t){if("object"!==typeof t||null===t)return xn(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=xn(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Ou=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ru(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Du=function(e){Jt(!xu(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var Au=new RegExp("^-?(0*)\\d{1,10}$"),Lu=function(e){if(Au.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Mu=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Su("Exception was thrown by user callback.",e),t}),Math.floor(0))}},ju=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fu=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},zu=function(){function e(t,n){var r=this;Bt(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Kt(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Su('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Uu=function(){function e(t,n,r){var i=this;Bt(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Kt(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(_u("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Su(e)}}]),e}(),Hu=function(){function e(t){Bt(this,e),this.accessToken=t}return Kt(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Hu.OWNER="owner";var qu="5",Wu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bu="ac",Vu="websocket",Ku="long_polling",Gu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Bt(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cu.get("host:"+t)||this._host}return Kt(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&cu.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function $u(e,t,n){var r;if(Jt("string"===typeof t,"typeof type must == string"),Jt("object"===typeof n,"typeof params must == object"),t===Vu)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Ku)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Ru(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Qu=function(){function e(){Bt(this,e),this.counters_={}}return Kt(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return on(this.counters_)}}]),e}(),Yu={},Ju={};function Zu(e){var t=e.toString();return Yu[t]||(Yu[t]=new Qu),Yu[t]}var Xu=function(){function e(t){Bt(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Kt(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Mu((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),el="start",tl=function(){function e(t,n,r,i,a,o,s){var u=this;Bt(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bu(t),this.stats_=Zu(n),this.urlFn=function(e){return u.appCheckToken&&(e[Bu]=u.appCheckToken),$u(n,Ku,e)}}return Kt(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Xu(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(gn()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new nl((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===el)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[el]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=qu,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Bu]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Wu.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=xn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=nn(t),r=Ou(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!gn()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=xn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!gn()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),nl=function(){function e(t,n,r,i){if(Bt(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,gn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=hu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){_u("frame writing exception"),s.stack&&_u(s.stack),_u(s)}}}return Kt(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;gn()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){_u("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_u("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),rl=null;"undefined"!==typeof MozWebSocket?rl=MozWebSocket:"undefined"!==typeof WebSocket&&(rl=WebSocket);var il=function(){function e(t,n,r,i,a,o,s){Bt(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bu(this.connId),this.stats_=Zu(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return Kt(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cu.set("previous_websocket_failure",!0);try{var r;if(gn()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(qu,"/").concat(ou,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/eso-portal-tool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new rl(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){cu.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Sn(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Jt(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=xn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Ou(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=qu,!gn()&&"undefined"!==typeof location&&location.hostname&&Wu.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[Bu]=r),i&&(a.p=i),$u(e,Vu,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==rl&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return cu.isInMemoryStorage||!0===cu.get("previous_websocket_failure")}}]),e}();il.responsesRequiredToBeHealthy=2,il.healthyTimeout=3e4;var al=function(){function e(t){Bt(this,e),this.initTransports_(t)}return Kt(e,[{key:"initTransports_",value:function(t){var n=il&&il.isAvailable(),r=n&&!il.previouslyFailed();if(t.webSocketOnly&&(n||Su("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[il];else{var i,a=this.transports_=[],o=qt(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[tl,il]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();al.globalTransportInitialized_=!1;var ol=function(){function e(t,n,r,i,a,o,s,u,l,c){Bt(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bu("c:"+this.id+":"),this.transportManager_=new al(n),this.log_("Connection created"),this.start_()}return Kt(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fu((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Nu("t",e),n=Nu("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Nu("t",e),n=Nu("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Nu("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ku("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ku("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),qu!==n&&Su("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fu((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fu((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),sl=function(){function e(){Bt(this,e)}return Kt(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),ul=function(){function e(t){Bt(this,e),this.allowedEvents_=t,this.listeners_={},Jt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Kt(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Gt(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Jt(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),ll=function(e){jt(n,e);var t=zt(n);function n(){var e;return Bt(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||mn()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Kt(n,[{key:"getInitialEvent",value:function(e){return Jt("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(ul),cl=32,fl=768,dl=function(){function e(t,n){if(Bt(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Kt(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function hl(){return new dl("")}function pl(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function vl(e){return e.pieces_.length-e.pieceNum_}function ml(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new dl(e.pieces_,t)}function yl(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function gl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function _l(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new dl(t,0)}function bl(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof dl)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new dl(n,0)}function kl(e){return e.pieceNum_>=e.pieces_.length}function wl(e,t){var n=pl(e),r=pl(t);if(null===n)return t;if(n===r)return wl(ml(e),ml(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Sl(e,t){if(vl(e)!==vl(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function xl(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(vl(e)>vl(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Cl=Kt((function e(t,n){Bt(this,e),this.errorPrefix_=n,this.parts_=gl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=zn(this.parts_[r]);El(this)}));function El(e){if(e.byteLength_>fl)throw new Error(e.errorPrefix_+"has a key path longer than "+fl+" bytes ("+e.byteLength_+").");if(e.parts_.length>cl)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cl+") or object contains a cycle "+Il(e))}function Il(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Tl=function(e){jt(n,e);var t=zt(n);function n(){var e,r,i;return Bt(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Kt(n,[{key:"getInitialEvent",value:function(e){return Jt("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(ul),Nl=1e3,Pl=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a,o,s,u,l){var c;if(Bt(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=bu("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Nl,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!gn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Tl.getInstance().on("visible",c.onVisible_,Lt(c)),-1===e.host.indexOf("fblocal")&&ll.getInstance().on("online",c.onOnline_,Lt(c)),c}return Kt(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(xn(i)),Jt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new pn,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Jt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Jt(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Cn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Cn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Jt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+xn(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ku("Unrecognized action received from server: "+xn(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Jt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Nl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Nl),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Rt(Pt().mark((function e(){var t,r,i,a,o,s,u,l,c,f,d,h,p,v,m=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},c=function(e){Jt(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:c},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,h=Wt(d,2),p=h[0],v=h[1],s?_u("getToken() completed but was canceled"):(_u("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new ol(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Su(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Su(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){_u("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){_u("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Tn(this.interruptReasons_)&&(this.reconnectDelay_=Nl,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Pu(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new dl(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){_u("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){_u("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=qt(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=qt(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";gn()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ou.replace(/\./g,"-")]=1,mn()?e["framework.cordova"]=1:yn()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=ll.getInstance().currentlyOnline();return Tn(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&En(e,"w")){var n=In(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Su("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(sl);Pl.nextPersistentConnectionId_=0,Pl.nextConnectionId_=0;var Ol,Rl=function(){function e(t,n){Bt(this,e),this.name=t,this.node=n}return Kt(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Dl=function(){function e(){Bt(this,e)}return Kt(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Rl(Cu,e),r=new Rl(Cu,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Rl.MIN}}]),e}(),Al=function(e){jt(n,e);var t=zt(n);function n(){return Bt(this,n),t.apply(this,arguments)}return Kt(n,[{key:"compare",value:function(e,t){return Iu(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Zt("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Rl.MIN}},{key:"maxPost",value:function(){return new Rl(Eu,Ol)}},{key:"makePost",value:function(e,t){return Jt("string"===typeof e,"KeyIndex indexValue must always be a string."),new Rl(e,Ol)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Ol},set:function(e){Ol=e}}]),n}(Dl),Ll=new Al,Ml=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Bt(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Kt(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),jl=function(){function e(t,n,r,i,a){Bt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ul.EMPTY_NODE,this.right=null!=a?a:Ul.EMPTY_NODE}return Kt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Ul.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ul.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();jl.RED=!0,jl.BLACK=!1;var Fl,zl=function(){function e(){Bt(this,e)}return Kt(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new jl(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Ul=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Bt(this,e),this.comparator_=t,this.root_=n}return Kt(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,jl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,jl.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Ml(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Ml(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Ml(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Ml(this.root_,null,this.comparator_,!0,e)}}]),e}();function Hl(e,t){return Iu(e.name,t.name)}function ql(e,t){return Iu(e,t)}Ul.EMPTY_NODE=new zl;var Wl,Bl,Vl,Kl=function(e){return"number"===typeof e?"number:"+Du(e):"string:"+e},Gl=function(e){if(e.isLeafNode()){var t=e.val();Jt("string"===typeof t||"number"===typeof t||"object"===typeof t&&En(t,".sv"),"Priority must be a string or number.")}else Jt(e===Fl||e.isEmpty(),"priority of unexpected type.");Jt(e===Fl||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},$l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Bt(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Jt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Gl(this.priorityNode_)}return Kt(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return kl(t)?this:".priority"===pl(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=pl(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Jt(".priority"!==r||1===vl(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ml(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Kl(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Du(this.value_):this.value_,this.lazyHash_=pu(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Jt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Jt(i>=0,"Unknown leaf type: "+n),Jt(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Wl},set:function(e){Wl=e}}]),e}();$l.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Ql,Yl,Jl=function(e){jt(n,e);var t=zt(n);function n(){return Bt(this,n),t.apply(this,arguments)}return Kt(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Iu(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Rl.MIN}},{key:"maxPost",value:function(){return new Rl(Eu,new $l("[PRIORITY-POST]",Vl))}},{key:"makePost",value:function(e,t){var n=Bl(e);return new Rl(t,new $l("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Dl),Zl=new Jl,Xl=Math.log(2),ec=function(){function e(t){Bt(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Xl,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Kt(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),tc=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new jl(o,a.node,jl.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new jl(o,a.node,jl.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],f=n?n(c):c;u(new jl(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,jl.BLACK):(s(f,jl.BLACK),s(f,jl.RED))}return a}(new ec(e.length));return new Ul(r||t,a)},nc={},rc=function(){function e(t,n){Bt(this,e),this.indexes_=t,this.indexSet_=n}return Kt(e,[{key:"get",value:function(e){var t=In(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ul?t:null}},{key:"hasIndex",value:function(e){return En(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Jt(t!==Ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Rl.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?tc(i,t.getCompare()):nc;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Nn(this.indexes_,(function(e,i){var a=In(r.indexSet_,i);if(Jt(a,"Missing index implementation for "+i),e===nc){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Rl.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),tc(o,a.getCompare())}return nc}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Rl(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Nn(this.indexes_,(function(e){if(e===nc)return e;var r=n.get(t.name);return r?e.remove(new Rl(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Jt(nc&&Zl,"ChildrenNode.ts has not been loaded"),Ql=Ql||new e({".priority":nc},{".priority":Zl})}}]),e}(),ic=function(){function e(t,n,r){Bt(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Gl(this.priorityNode_),this.children_.isEmpty()&&Jt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Kt(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Yl}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Yl:t}},{key:"getChild",value:function(e){var t=pl(e);return null===t?this:this.getImmediateChild(t).getChild(ml(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Jt(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Rl(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Yl:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=pl(e);if(null===n)return t;Jt(".priority"!==pl(e)||1===vl(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ml(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Zl,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Kl(this.getPriority().val())+":"),this.forEachChild(Zl,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":pu(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Rl(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Rl(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Rl(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Rl.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Rl.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ac?-1:0}},{key:"withIndex",value:function(t){if(t===Ll||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Ll||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Zl),r=t.getIterator(Zl),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Ll?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Yl||(Yl=new e(new Ul(ql),null,rc.Default))}}]),e}();ic.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var ac=new(function(e){jt(n,e);var t=zt(n);function n(){return Bt(this,n),t.call(this,new Ul(ql),ic.EMPTY_NODE,rc.Default)}return Kt(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return ic.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(ic));Object.defineProperties(Rl,{MIN:{value:new Rl(Cu,ic.EMPTY_NODE)},MAX:{value:new Rl(Eu,ac)}}),Al.__EMPTY_NODE=ic.EMPTY_NODE,$l.__childrenNodeConstructor=ic,Fl=ac,function(e){Vl=e}(ac);var oc=!0;function sc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ic.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Jt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new $l(e,sc(t));if(e instanceof Array||!oc){var n=ic.EMPTY_NODE;return Ru(e,(function(t,r){if(En(e,t)&&"."!==t.substring(0,1)){var i=sc(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(sc(t))}var r=[],i=!1;if(Ru(e,(function(e,t){if("."!==e.substring(0,1)){var n=sc(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Rl(e,n)))}})),0===r.length)return ic.EMPTY_NODE;var a=tc(r,Hl,(function(e){return e.name}),ql);if(i){var o=tc(r,Zl.getCompare());return new ic(a,sc(t),new rc({".priority":o},{".priority":Zl}))}return new ic(a,sc(t),rc.Default)}!function(e){Bl=e}(sc);var uc=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Bt(this,n),(r=t.call(this)).indexPath_=e,Jt(!kl(e)&&".priority"!==pl(e),"Can't create PathIndex with empty path or .priority key"),r}return Kt(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Iu(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=sc(e),r=ic.EMPTY_NODE.updateChild(this.indexPath_,n);return new Rl(t,r)}},{key:"maxPost",value:function(){var e=ic.EMPTY_NODE.updateChild(this.indexPath_,ac);return new Rl(Eu,e)}},{key:"toString",value:function(){return gl(this.indexPath_,0).join("/")}}]),n}(Dl),lc=function(e){jt(n,e);var t=zt(n);function n(){return Bt(this,n),t.apply(this,arguments)}return Kt(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Iu(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Rl.MIN}},{key:"maxPost",value:function(){return Rl.MAX}},{key:"makePost",value:function(e,t){var n=sc(e);return new Rl(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Dl),cc=new lc;function fc(e){return{type:"value",snapshotNode:e}}function dc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function hc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function pc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var vc=function(){function e(t){Bt(this,e),this.index_=t}return Kt(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Jt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(hc(t,o)):Jt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(dc(t,n)):a.trackChildChange(pc(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Zl,(function(e,r){t.hasChild(e)||n.trackChildChange(hc(e,r))})),t.isLeafNode()||t.forEachChild(Zl,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(pc(t,r,i))}else n.trackChildChange(dc(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?ic.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),mc=function(){function e(t){Bt(this,e),this.indexedFilter_=new vc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return Kt(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Rl(t,n))||(n=ic.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=ic.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ic.EMPTY_NODE);var i=this;return t.forEachChild(Zl,(function(e,t){i.matches(new Rl(e,t))||(r=r.updateImmediateChild(e,ic.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),yc=function(){function e(t){var n=this;Bt(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new mc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return Kt(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Rl(t,n))||(n=ic.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ic.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=ic.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(ic.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var l=s.getNext();u<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?u++:r=r.updateImmediateChild(l.name,ic.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;Jt(s.numChildren()===this.limit_,"");var u=new Rl(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||s.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var h=null==d?1:a(d,u);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(pc(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(hc(t,f));var p=s.updateImmediateChild(t,ic.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(dc(d.name,d.node)),p.updateImmediateChild(d.name,d.node)):p}return n.isEmpty()?e:c&&a(l,u)>=0?(null!=i&&(i.trackChildChange(hc(l.name,l.node)),i.trackChildChange(dc(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,ic.EMPTY_NODE)):e}}]),e}(),gc=function(){function e(){Bt(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zl}return Kt(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Jt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Jt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cu}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Jt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Jt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Eu}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Jt(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Zl}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function _c(e){var t,n={};if(e.isDefault())return n;if(e.index_===Zl?t="$priority":e.index_===cc?t="$value":e.index_===Ll?t="$key":(Jt(e.index_ instanceof uc,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=xn(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=xn(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+xn(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=xn(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+xn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function bc(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Zl&&(t.i=e.index_.toString()),t}var kc=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a){var o;return Bt(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=bu("p:rest:"),o.listens_={},o}return Kt(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=_c(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),In(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=_c(e._queryParams),r=e._path.toString(),i=new pn;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=Wt(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Rn(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Sn(l.responseText)}catch(n){Su("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Su("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Jt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(sl),wc=function(){function e(){Bt(this,e),this.rootNode_=ic.EMPTY_NODE}return Kt(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Sc(){return{value:null,children:new Map}}function xc(e,t,n){if(kl(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=pl(t);e.children.has(r)||e.children.set(r,Sc()),xc(e.children.get(r),t=ml(t),n)}}function Cc(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Cc(r,new dl(t.toString()+"/"+e),n)}))}var Ec,Ic=function(){function e(t){Bt(this,e),this.collection_=t,this.last_=null}return Kt(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ru(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Tc=function(){function e(t,n){Bt(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Ic(t);var r=1e4+2e4*Math.random();Fu(this.reportStats_.bind(this),Math.floor(r))}return Kt(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Ru(t,(function(t,i){i>0&&En(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Fu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Nc(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ec||(Ec={}));var Pc,Oc=function(){function e(t,n,r){Bt(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Ec.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Kt(e,[{key:"operationForChild",value:function(t){if(kl(this.path)){if(null!=this.affectedTree.value)return Jt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new dl(t));return new e(hl(),n,this.revert)}return Jt(pl(this.path)===t,"operationForChild called for unrelated child."),new e(ml(this.path),this.affectedTree,this.revert)}}]),e}(),Rc=function(){function e(t,n){Bt(this,e),this.source=t,this.path=n,this.type=Ec.LISTEN_COMPLETE}return Kt(e,[{key:"operationForChild",value:function(t){return kl(this.path)?new e(this.source,hl()):new e(this.source,ml(this.path))}}]),e}(),Dc=function(){function e(t,n,r){Bt(this,e),this.source=t,this.path=n,this.snap=r,this.type=Ec.OVERWRITE}return Kt(e,[{key:"operationForChild",value:function(t){return kl(this.path)?new e(this.source,hl(),this.snap.getImmediateChild(t)):new e(this.source,ml(this.path),this.snap)}}]),e}(),Ac=function(){function e(t,n,r){Bt(this,e),this.source=t,this.path=n,this.children=r,this.type=Ec.MERGE}return Kt(e,[{key:"operationForChild",value:function(t){if(kl(this.path)){var n=this.children.subtree(new dl(t));return n.isEmpty()?null:n.value?new Dc(this.source,hl(),n.value):new e(this.source,hl(),n)}return Jt(pl(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ml(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Lc=function(){function e(t,n,r){Bt(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Kt(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(kl(e))return this.isFullyInitialized()&&!this.filtered_;var t=pl(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Mc=Kt((function e(t){Bt(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function jc(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Zt("Should only compare child_ events.");var r=new Rl(t.childName,t.snapshotNode),i=new Rl(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Fc(e,t){return{eventCache:e,serverCache:t}}function zc(e,t,n,r){return Fc(new Lc(t,n,r),e.serverCache)}function Uc(e,t,n,r){return Fc(e.eventCache,new Lc(t,n,r))}function Hc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function qc(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Wc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Pc||(Pc=new Ul(Tu)),Pc);Bt(this,e),this.value=t,this.children=n}return Kt(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:hl(),value:this.value};if(kl(e))return null;var n=pl(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ml(e),t);return null!=i?{path:bl(new dl(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(kl(t))return this;var n=pl(t),r=this.children.get(n);return null!==r?r.subtree(ml(t)):new e(null)}},{key:"set",value:function(t,n){if(kl(t))return new e(n,this.children);var r=pl(t),i=(this.children.get(r)||new e(null)).set(ml(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(kl(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=pl(t),r=this.children.get(n);if(r){var i,a=r.remove(ml(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(kl(e))return this.value;var t=pl(e),n=this.children.get(t);return n?n.get(ml(e)):null}},{key:"setTree",value:function(t,n){if(kl(t))return n;var r,i=pl(t),a=(this.children.get(i)||new e(null)).setTree(ml(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(hl(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(bl(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,hl(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(kl(e))return null;var i=pl(e),a=this.children.get(i);return a?a.findOnPath_(ml(e),bl(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,hl(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(kl(t))return this;this.value&&r(n,this.value);var i=pl(t),a=this.children.get(i);return a?a.foreachOnPath_(ml(t),bl(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(hl(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(bl(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Ru(t,(function(e,t){n=n.set(new dl(e),t)})),n}}]),e}(),Bc=function(){function e(t){Bt(this,e),this.writeTree_=t}return Kt(e,null,[{key:"empty",value:function(){return new e(new Wc(null))}}]),e}();function Vc(e,t,n){if(kl(t))return new Bc(new Wc(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=wl(i,t);return a=a.updateChild(o,n),new Bc(e.writeTree_.set(i,a))}var s=new Wc(n),u=e.writeTree_.setTree(t,s);return new Bc(u)}function Kc(e,t,n){var r=e;return Ru(n,(function(e,n){r=Vc(r,bl(t,e),n)})),r}function Gc(e,t){if(kl(t))return Bc.empty();var n=e.writeTree_.setTree(t,new Wc(null));return new Bc(n)}function $c(e,t){return null!=Qc(e,t)}function Qc(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(wl(n.path,t)):null}function Yc(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Zl,(function(e,n){t.push(new Rl(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Rl(e,n.value))})),t}function Jc(e,t){if(kl(t))return e;var n=Qc(e,t);return new Bc(null!=n?new Wc(n):e.writeTree_.subtree(t))}function Zc(e){return e.writeTree_.isEmpty()}function Xc(e,t){return ef(hl(),e.writeTree_,t)}function ef(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Jt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ef(bl(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(bl(e,".priority"),r)),n}function tf(e,t){return vf(t,e)}function nf(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Jt(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&rf(s,r.path)?i=!1:xl(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=of(e.allWrites,af,hl()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Gc(e.visibleWrites,r.path):Ru(r.children,(function(t){e.visibleWrites=Gc(e.visibleWrites,bl(r.path,t))}));return!0}return!1}function rf(e,t){if(e.snap)return xl(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&xl(bl(e.path,n),t))return!0;return!1}function af(e){return e.visible}function of(e,t,n){for(var r=Bc.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)xl(n,o)?r=Vc(r,s=wl(n,o),a.snap):xl(o,n)&&(s=wl(o,n),r=Vc(r,hl(),a.snap.getChild(s)));else{if(!a.children)throw Zt("WriteRecord should have .snap or .children");if(xl(n,o))r=Kc(r,s=wl(n,o),a.children);else if(xl(o,n))if(kl(s=wl(o,n)))r=Kc(r,hl(),a.children);else{var u=In(a.children,pl(s));if(u){var l=u.getChild(ml(s));r=Vc(r,hl(),l)}}}}}return r}function sf(e,t,n,r,i){if(r||i){var a=Jc(e.visibleWrites,t);if(!i&&Zc(a))return n;if(i||null!=n||$c(a,hl())){return Xc(of(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(xl(e.path,t)||xl(t,e.path))}),t),n||ic.EMPTY_NODE)}return null}var o=Qc(e.visibleWrites,t);if(null!=o)return o;var s=Jc(e.visibleWrites,t);return Zc(s)?n:null!=n||$c(s,hl())?Xc(s,n||ic.EMPTY_NODE):null}function uf(e,t,n,r){return sf(e.writeTree,e.treePath,t,n,r)}function lf(e,t){return function(e,t,n){var r=ic.EMPTY_NODE,i=Qc(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Zl,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Jc(e.visibleWrites,t);return n.forEachChild(Zl,(function(e,t){var n=Xc(Jc(a,new dl(e)),t);r=r.updateImmediateChild(e,n)})),Yc(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Yc(Jc(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function cf(e,t,n,r){return function(e,t,n,r,i){Jt(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=bl(t,n);if($c(e.visibleWrites,a))return null;var o=Jc(e.visibleWrites,a);return Zc(o)?i.getChild(n):Xc(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ff(e,t){return function(e,t){return Qc(e.visibleWrites,t)}(e.writeTree,bl(e.treePath,t))}function df(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Jc(e.visibleWrites,t),l=Qc(u,hl());if(null!=l)s=l;else{if(null==n)return[];s=Xc(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=o.getCompare(),d=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),h=d.getNext();h&&c.length<i;)0!==f(h,r)&&c.push(h),h=d.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function hf(e,t,n){return function(e,t,n,r){var i=bl(t,n),a=Qc(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Xc(Jc(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function pf(e,t){return vf(bl(e.treePath,t),e.writeTree)}function vf(e,t){return{treePath:e,writeTree:t}}var mf=function(){function e(){Bt(this,e),this.changeMap=new Map}return Kt(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Jt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Jt(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,pc(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,hc(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,dc(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Zt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,pc(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),yf=new(function(){function e(){Bt(this,e)}return Kt(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),gf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Bt(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Kt(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Lc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hf(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qc(this.viewCache_),i=df(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function _f(e,t,n,r,i){var a,o,s=new mf;if(n.type===Ec.OVERWRITE){var u=n;u.source.fromUser?a=wf(e,t,u.path,u.snap,r,i,s):(Jt(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!kl(u.path),a=kf(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Ec.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=bl(n,r);Sf(t,pl(l))&&(s=wf(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=bl(n,r);Sf(t,pl(l))||(s=wf(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(Jt(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Cf(e,t,l.path,l.children,r,i,o,s))}else if(n.type===Ec.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=ff(r,n))return t;var s,u=new gf(r,t,i),l=t.eventCache.getNode();if(kl(n)||".priority"===pl(n)){var c;if(t.serverCache.isFullyInitialized())c=uf(r,qc(t));else{var f=t.serverCache.getNode();Jt(f instanceof ic,"serverChildren would be complete if leaf node"),c=lf(r,f)}s=e.filter.updateFullNode(l,c,a)}else{var d=pl(n),h=hf(r,d,t.serverCache);null==h&&t.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),(s=null!=h?e.filter.updateChild(l,d,h,ml(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(l,d,ic.EMPTY_NODE,ml(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=uf(r,qc(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=ff(r,hl()),zc(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=ff(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(kl(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return kf(e,t,n,u.getNode().getChild(n),i,a,s,o);if(kl(n)){var l=new Wc(null);return u.getNode().forEachChild(Ll,(function(e,t){l=l.set(new dl(e),t)})),Cf(e,t,n,l,i,a,s,o)}return t}var c=new Wc(null);return r.foreach((function(e,t){var r=bl(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Cf(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Ec.LISTEN_COMPLETE)throw Zt("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Uc(t,a.getNode(),a.isFullyInitialized()||kl(n),a.isFiltered());return bf(e,o,n,r,yf,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Hc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(fc(Hc(t)))}}(t,a,f),{viewCache:a,changes:f}}function bf(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=ff(r,n))return t;if(kl(n))if(Jt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=qc(t),c=lf(r,l instanceof ic?l:ic.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var f=uf(r,qc(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=pl(n);if(".priority"===d){Jt(1===vl(n),"Can't have a priority with additional path components");var h=u.getNode(),p=cf(r,n,h,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):u.getNode()}else{var v,m=ml(n);if(u.isCompleteForChild(d)){s=t.serverCache.getNode();var y=cf(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(d).updateChild(m,y):u.getNode().getImmediateChild(d)}else v=hf(r,d,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),d,v,m,i,a):u.getNode()}}return zc(t,o,u.isFullyInitialized()||kl(n),e.filter.filtersNodes())}function kf(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(kl(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var d=pl(n);if(!l.isCompleteForPath(n)&&vl(n)>1)return t;var h=ml(n),p=l.getNode().getImmediateChild(d).updateChild(h,r);u=".priority"===d?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),d,p,h,yf,null)}var v=Uc(t,u,l.isFullyInitialized()||kl(n),c.filtersNodes());return bf(e,v,n,i,new gf(i,v,a),s)}function wf(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new gf(i,t,a);if(kl(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=zc(t,u,!0,e.filter.filtersNodes());else{var f=pl(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=zc(t,u,l.isFullyInitialized(),l.isFiltered());else{var d,h=ml(n),p=l.getNode().getImmediateChild(f);if(kl(h))d=r;else{var v=c.getCompleteChild(f);d=null!=v?".priority"===yl(h)&&v.getChild(_l(h)).isEmpty()?v:v.updateChild(h,r):ic.EMPTY_NODE}if(p.equals(d))s=t;else s=zc(t,e.filter.updateChild(l.getNode(),f,d,h,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Sf(e,t){return e.eventCache.isCompleteForChild(t)}function xf(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Cf(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=kl(n)?r:new Wc(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=xf(0,t.serverCache.getNode().getImmediateChild(n),r);l=kf(e,l,new dl(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var f=xf(0,t.serverCache.getNode().getImmediateChild(n),r);l=kf(e,l,new dl(n),f,i,a,o,s)}})),l}var Ef,If=function(){function e(t,n){Bt(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new vc(i.getIndex()),o=(r=i).loadsAllData()?new vc(r.getIndex()):r.hasLimit()?new yc(r):new mc(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,l=a.updateFullNode(ic.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(ic.EMPTY_NODE,u.getNode(),null),f=new Lc(l,s.isFullyInitialized(),a.filtersNodes()),d=new Lc(c,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Fc(d,f),this.eventGenerator_=new Mc(this.query_)}return Kt(e,[{key:"query",get:function(){return this.query_}}]),e}();function Tf(e,t){var n=qc(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!kl(t)&&!n.getImmediateChild(pl(t)).isEmpty())?n.getChild(t):null}function Nf(e){return 0===e.eventRegistrations_.length}function Pf(e,t,n){var r=[];if(n){Jt(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Of(e,t,n,r){t.type===Ec.MERGE&&null!==t.source.queryId&&(Jt(qc(e.viewCache_),"We should always have a full cache before handling merges"),Jt(Hc(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=_f(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Jt(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Jt(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Jt(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Rf(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Rf(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),jc(e,i,"child_removed",t,r,n),jc(e,i,"child_added",t,r,n),jc(e,i,"child_moved",a,r,n),jc(e,i,"child_changed",t,r,n),jc(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Df,Af=Kt((function e(){Bt(this,e),this.views=new Map}));function Lf(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Jt(null!=a,"SyncTree gave us an op for an invalid query."),Of(a,t,n,r)}var o,s=[],u=qt(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(Of(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function Mf(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=uf(n,i?r:null),u=!1;s?u=!0:r instanceof ic?(s=lf(n,r),u=!1):(s=ic.EMPTY_NODE,u=!1);var l=Fc(new Lc(s,u,!1),new Lc(r,i,!1));return new If(t,l)}return o}function jf(e,t,n,r,i,a){var o=Mf(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Zl,(function(e,t){r.push(dc(e,t))})),n.isFullyInitialized()&&r.push(fc(n.getNode())),Rf(e,r,n.getNode(),t)}(o,n)}function Ff(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=Wf(e);if("default"===i){var u,l=qt(e.views.entries());try{for(l.s();!(u=l.n()).done;){var c=Wt(u.value,2),f=c[0],d=c[1];o=o.concat(Pf(d,n,r)),Nf(d)&&(e.views.delete(f),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(p){l.e(p)}finally{l.f()}}else{var h=e.views.get(i);h&&(o=o.concat(Pf(h,n,r)),Nf(h)&&(e.views.delete(i),h.query._queryParams.loadsAllData()||a.push(h.query)))}return s&&!Wf(e)&&a.push(new(Jt(Ef,"Reference.ts has not been loaded"),Ef)(t._repo,t._path)),{removed:a,events:o}}function zf(e){var t,n=[],r=qt(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Uf(e,t){var n,r=null,i=qt(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Tf(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Hf(e,t){if(t._queryParams.loadsAllData())return Bf(e);var n=t._queryIdentifier;return e.views.get(n)}function qf(e,t){return null!=Hf(e,t)}function Wf(e){return null!=Bf(e)}function Bf(e){var t,n=qt(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Vf=1,Kf=Kt((function e(t){Bt(this,e),this.listenProvider_=t,this.syncPointTree_=new Wc(null),this.pendingWriteTree_={visibleWrites:Bc.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Gf(e,t,n,r,i){return function(e,t,n,r,i){Jt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Vc(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?td(e,new Dc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function $f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(nf(e.pendingWriteTree_,t)){var i=new Wc(null);return null!=r.snap?i=i.set(hl(),!0):Ru(r.children,(function(e){i=i.set(new dl(e),!0)})),td(e,new Oc(r.path,i,n))}return[]}function Qf(e,t,n){return td(e,new Dc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Yf(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||qf(o,t))){var u=Ff(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=u.removed;if(s=u.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Wf(t)}));if(c&&!f){var d=e.syncPointTree_.subtree(a);if(!d.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&Wf(t))return[Bf(t)];var r=[];return t&&(r=zf(t)),Ru(n,(function(e,t){r=r.concat(t)})),r}))}(d),p=0;p<h.length;++p){var v=h[p],m=v.query,y=id(e,v);e.listenProvider_.startListening(cd(m),ad(e,m),y.hashFn,y.onComplete)}}if(!f&&l.length>0&&!r)if(c){e.listenProvider_.stopListening(cd(t),null)}else l.forEach((function(t){var n=e.queryToTagMap.get(od(t));e.listenProvider_.stopListening(cd(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=od(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,l)}return s}function Jf(e,t,n,r){var i=sd(e,r);if(null!=i){var a=ud(i),o=a.path,s=a.queryId,u=wl(o,t);return ld(e,o,new Dc(Nc(s),u,n))}return[]}function Zf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=wl(e,i);a=a||Uf(t,n),o=o||Wf(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||Wf(u),a=a||Uf(u,hl())):(u=new Af,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=ic.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=Uf(t,hl());n&&(a=a.updateImmediateChild(e,n))})));var l=qf(u,t);if(!l&&!t._queryParams.loadsAllData()){var c=od(t);Jt(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var f=Vf++;e.queryToTagMap.set(c,f),e.tagToQueryMap.set(f,c)}var d=jf(u,t,n,tf(e.pendingWriteTree_,i),a,s);if(!l&&!o&&!r){var h=Hf(u,t);d=d.concat(function(e,t,n){var r=t._path,i=ad(e,t),a=id(e,n),o=e.listenProvider_.startListening(cd(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)Jt(!Wf(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!kl(e)&&t&&Wf(t))return[Bf(t).query];var r=[];return t&&(r=r.concat(zf(t).map((function(e){return e.query})))),Ru(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(cd(c),ad(e,c))}return o}(e,t,h))}return d}function Xf(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Uf(n,wl(e,t));if(r)return r}));return sf(r,t,i,n,!0)}function ed(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=wl(e,n);r=r||Uf(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Uf(i,hl()):(i=new Af,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Lc(r,!0,!1):null;return function(e){return Hc(e.viewCache_)}(Mf(i,t,tf(e.pendingWriteTree_,t._path),a?o.getNode():ic.EMPTY_NODE,a))}function td(e,t){return nd(t,e.syncPointTree_,null,tf(e.pendingWriteTree_,hl()))}function nd(e,t,n,r){if(kl(e.path))return rd(e,t,n,r);var i=t.get(hl());null==n&&null!=i&&(n=Uf(i,hl()));var a=[],o=pl(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=pf(r,o);a=a.concat(nd(s,u,l,c))}return i&&(a=a.concat(Lf(i,e,r,n))),a}function rd(e,t,n,r){var i=t.get(hl());null==n&&null!=i&&(n=Uf(i,hl()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=pf(r,t),u=e.operationForChild(t);u&&(a=a.concat(rd(u,i,o,s)))})),i&&(a=a.concat(Lf(i,e,r,n))),a}function id(e,t){var n=t.query,r=ad(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ic.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=sd(e,n);if(r){var i=ud(r),a=i.path,o=i.queryId,s=wl(a,t);return ld(e,a,new Rc(Nc(o),s))}return[]}(e,n._path,r):function(e,t){return td(e,new Rc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Yf(e,n,null,i)}}}function ad(e,t){var n=od(t);return e.queryToTagMap.get(n)}function od(e){return e._path.toString()+"$"+e._queryIdentifier}function sd(e,t){return e.tagToQueryMap.get(t)}function ud(e){var t=e.indexOf("$");return Jt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new dl(e.substr(0,t))}}function ld(e,t,n){var r=e.syncPointTree_.get(t);return Jt(r,"Missing sync point for query tag that we're tracking"),Lf(r,n,tf(e.pendingWriteTree_,t),null)}function cd(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Jt(Df,"Reference.ts has not been loaded"),Df)(e._repo,e._path):e}var fd=function(){function e(t){Bt(this,e),this.node_=t}return Kt(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),dd=function(){function e(t,n){Bt(this,e),this.syncTree_=t,this.path_=n}return Kt(e,[{key:"getImmediateChild",value:function(t){var n=bl(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Xf(this.syncTree_,this.path_)}}]),e}(),hd=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},pd=function(e,t,n){return e&&"object"===typeof e?(Jt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?vd(e[".sv"],t,n):"object"===typeof e[".sv"]?md(e[".sv"],t):void Jt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},vd=function(e,t,n){if("timestamp"===e)return n.timestamp;Jt(!1,"Unexpected server value: "+e)},md=function(e,t,n){e.hasOwnProperty("increment")||Jt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Jt(!1,"Unexpected increment value: "+r);var i=t.node();if(Jt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},yd=function(e,t,n,r){return _d(t,new dd(n,e),r)},gd=function(e,t,n){return _d(e,new fd(t),n)};function _d(e,t,n){var r,i=e.getPriority().val(),a=pd(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=pd(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new $l(s,sc(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new $l(a))),u.forEachChild(Zl,(function(e,i){var a=_d(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var bd=Kt((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Bt(this,e),this.name=t,this.parent=n,this.node=r}));function kd(e,t){for(var n=t instanceof dl?t:new dl(t),r=e,i=pl(n);null!==i;){var a=In(r.node.children,i)||{children:{},childCount:0};r=new bd(i,r,a),i=pl(n=ml(n))}return r}function wd(e){return e.node.value}function Sd(e,t){e.node.value=t,Td(e)}function xd(e){return e.node.childCount>0}function Cd(e,t){Ru(e.node.children,(function(n,r){t(new bd(n,e,r))}))}function Ed(e,t,n,r){n&&!r&&t(e),Cd(e,(function(e){Ed(e,t,!0,r)})),n&&r&&t(e)}function Id(e){return new dl(null===e.parent?e.name:Id(e.parent)+"/"+e.name)}function Td(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===wd(e)&&!xd(e)}(n),i=En(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Td(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Td(e))}(e.parent,e.name,e)}var Nd=/[\[\].#$\/\u0000-\u001F\u007F]/,Pd=/[\[\].#$\u0000-\u001F\u007F]/,Od=10485760,Rd=function(e){return"string"===typeof e&&0!==e.length&&!Nd.test(e)},Dd=function(e){return"string"===typeof e&&0!==e.length&&!Pd.test(e)},Ad=function(e,t,n,r){r&&void 0===t||Ld(Fn(e,"value"),t,n)},Ld=function e(t,n,r){var i=r instanceof dl?new Cl(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Il(i));if("function"===typeof n)throw new Error(t+"contains a function "+Il(i)+" with contents = "+n.toString());if(xu(n))throw new Error(t+"contains "+n.toString()+" "+Il(i));if("string"===typeof n&&n.length>Od/3&&zn(n)>Od)throw new Error(t+"contains a string greater than "+Od+" utf8 bytes "+Il(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Ru(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Rd(n)))throw new Error(t+" contains an invalid key ("+n+") "+Il(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=zn(u),El(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=zn(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Il(i)+" in addition to actual children.")}},Md=function(e,t,n,r){if((!r||void 0!==n)&&!Dd(n))throw new Error(Fn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jd=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Md(e,t,n,r)},Fd=function(e,t){if(".info"===pl(t))throw new Error(e+" failed = Can't modify data under /.info/")},zd=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Rd(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Dd(e)}(n))throw new Error(Fn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ud=Kt((function e(){Bt(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Hd(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Sl(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function qd(e,t,n){Hd(e,n),Wd(e,(function(e){return xl(e,t)||xl(t,e)}))}function Wd(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Bd(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Bd(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();mu&&_u("event: "+n.toString()),Mu(r)}}}var Vd="repo_interrupt",Kd=25,Gd=function(){function e(t,n,r,i){Bt(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ud,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sc(),this.transactionQueueTree_=new bd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Kt(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function $d(e,t,n){if(e.stats_=Zu(e.repoInfo_),e.forceRestClient_||ju())e.server_=new kc(e.repoInfo_,(function(t,n,r,i){Jd(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Zd(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Pl(e.repoInfo_,t,(function(t,n,r,i){Jd(e,t,n,r,i)}),(function(t){Zd(e,t)}),(function(t){!function(e,t){Ru(t,(function(t,n){Xd(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Ju[n]||(Ju[n]=t()),Ju[n]}(e.repoInfo_,(function(){return new Tc(e.stats_,e.server_)})),e.infoData_=new wc,e.infoSyncTree_=new Kf({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Qf(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Xd(e,"connected",!1),e.serverSyncTree_=new Kf({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);qd(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Qd(e){var t=e.infoData_.getNode(new dl(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Yd(e){return hd({timestamp:Qd(e)})}function Jd(e,t,n,r,i){e.dataUpdateCount++;var a=new dl(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Nn(n,(function(e){return sc(e)}));o=function(e,t,n,r){var i=sd(e,r);if(i){var a=ud(i),o=a.path,s=a.queryId,u=wl(o,t),l=Wc.fromObject(n);return ld(e,o,new Ac(Nc(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=sc(n);o=Jf(e.serverSyncTree_,a,u,i)}else if(r){var l=Nn(n,(function(e){return sc(e)}));o=function(e,t,n){var r=Wc.fromObject(n);return td(e,new Ac({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=sc(n);o=Qf(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=sh(e,a)),qd(e.eventQueue_,f,o)}function Zd(e,t){Xd(e,"connected",t),!1===t&&function(e){rh(e,"onDisconnectEvents");var t=Yd(e),n=Sc();Cc(e.onDisconnect_,hl(),(function(r,i){var a=yd(r,i,e.serverSyncTree_,t);xc(n,r,a)}));var r=[];Cc(n,hl(),(function(t,n){r=r.concat(Qf(e.serverSyncTree_,t,n));var i=dh(e,t);sh(e,i)})),e.onDisconnect_=Sc(),qd(e.eventQueue_,hl(),r)}(e)}function Xd(e,t,n){var r=new dl("/.info/"+t),i=sc(n);e.infoData_.updateSnapshot(r,i);var a=Qf(e.infoSyncTree_,r,i);qd(e.eventQueue_,r,a)}function eh(e){return e.nextWriteId_++}function th(e,t,n,r,i){rh(e,"set",{path:t.toString(),value:n,priority:r});var a=Yd(e),o=sc(n,r),s=Xf(e.serverSyncTree_,t),u=gd(o,s,a),l=eh(e),c=Gf(e.serverSyncTree_,t,u,l,!0);Hd(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Su("set at "+t+" failed: "+n);var o=$f(e.serverSyncTree_,l,!a);qd(e.eventQueue_,t,o),ih(e,i,n,r)}));var f=dh(e,t);sh(e,f),qd(e.eventQueue_,f,[])}function nh(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Vd)}function rh(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];_u.apply(void 0,[t].concat(r))}function ih(e,t,n,r){t&&Mu((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function ah(e,t,n){return Xf(e.serverSyncTree_,t,n)||ic.EMPTY_NODE}function oh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||fh(e,t),wd(t)){var n=lh(e,t);Jt(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ah(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Jt(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=wl(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){rh(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat($f(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);fh(e,kd(e.transactionQueueTree_,t)),oh(e,e.transactionQueueTree_),qd(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Mu(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{Su("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}sh(e,t)}}),o)}(e,Id(t),n)}else xd(t)&&Cd(t,(function(t){oh(e,t)}))}function sh(e,t){var n=uh(e,t),r=Id(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,l=t[a],c=wl(n,l.path),f=!1;if(Jt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,s=l.abortReason,i=i.concat($f(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Kd)f=!0,s="maxretry",i=i.concat($f(e.serverSyncTree_,l.currentWriteId,!0));else{var d=ah(e,l.path,o);l.currentInputSnapshot=d;var h=t[a].update(d.val());if(void 0!==h){Ld("transaction failed: Data returned ",h,l.path);var p=sc(h);"object"===typeof h&&null!=h&&En(h,".priority")||(p=p.updatePriority(d.getPriority()));var v=l.currentWriteId,m=Yd(e),y=gd(p,d,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=eh(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Gf(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat($f(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat($f(e.serverSyncTree_,l.currentWriteId,!0))}qd(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);fh(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Mu(r[l]);oh(e,e.transactionQueueTree_)}(e,lh(e,n),r),r}function uh(e,t){var n,r=e.transactionQueueTree_;for(n=pl(t);null!==n&&void 0===wd(r);)r=kd(r,n),n=pl(t=ml(t));return r}function lh(e,t){var n=[];return ch(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function ch(e,t,n){var r=wd(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Cd(t,(function(t){ch(e,t,n)}))}function fh(e,t){var n=wd(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Sd(t,n.length>0?n:void 0)}Cd(t,(function(t){fh(e,t)}))}function dh(e,t){var n=Id(uh(e,t)),r=kd(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){hh(e,t)})),hh(e,r),Ed(r,(function(t){hh(e,t)})),n}function hh(e,t){var n=wd(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Jt(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Jt(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat($f(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Sd(t,void 0):n.length=a+1,qd(e.eventQueue_,Id(t),i);for(var s=0;s<r.length;s++)Mu(r[s])}}var ph=function(e,t){var n=vh(e),r=n.namespace;"firebase.com"===n.domain&&wu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||wu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Su("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Gu(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new dl(n.pathString)}},vh=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,f)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=qt(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Su("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},mh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",yh=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){Bt(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Kt(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+xn(this.snapshot.exportVal())}}]),e}()),gh=function(){function e(t,n,r){Bt(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Kt(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),_h=function(){function e(t,n){Bt(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Kt(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Jt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),bh=function(){function e(t,n,r,i){Bt(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Kt(e,[{key:"key",get:function(){return kl(this._path)?null:yl(this._path)}},{key:"ref",get:function(){return new kh(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=bc(this._queryParams),t=Pu(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return bc(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Un(t))instanceof e))return!1;var n=this._repo===t._repo,r=Sl(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var kh=function(e){jt(n,e);var t=zt(n);function n(e,r){return Bt(this,n),t.call(this,e,r,new gc,!1)}return Kt(n,[{key:"parent",get:function(){var e=_l(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(bh),wh=function(){function e(t,n,r){Bt(this,e),this._node=t,this.ref=n,this._index=r}return Kt(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new dl(t),r=xh(this.ref,t);return new e(this._node.getChild(n),r,Zl)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,xh(n.ref,r),Zl))}))}},{key:"hasChild",value:function(e){var t=new dl(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Sh(e,t){return(e=Un(e))._checkNotDeleted("ref"),void 0!==t?xh(e._root,t):e._root}function xh(e,t){return null===pl((e=Un(e))._path)?jd("child","path",t,!1):Md("child","path",t,!1),new kh(e._repo,bl(e._path,t))}function Ch(e,t){e=Un(e),Fd("set",e._path),Ad("set",t,e._path,!1);var n=new pn;return th(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Eh(e){e=Un(e);var t=new _h((function(){})),n=new Ih(t);return function(e,t,n){var r=ed(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=sc(r).withIndex(t._queryParams.getIndex());if(Zf(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Qf(e.serverSyncTree_,t._path,a);else{var o=ad(e.serverSyncTree_,t);i=Jf(e.serverSyncTree_,t._path,a,o)}return qd(e.eventQueue_,t._path,i),Yf(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return rh(e,"get for query "+xn(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new wh(t,new kh(e._repo,e._path),e._queryParams.getIndex())}))}var Ih=function(){function e(t){Bt(this,e),this.callbackContext=t}return Kt(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new yh("value",this,new wh(e.snapshotNode,new kh(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new gh(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}();!function(e){Jt(!Ef,"__referenceConstructor has already been defined"),Ef=e}(kh),function(e){Jt(!Df,"__referenceConstructor has already been defined"),Df=e}(kh);var Th="FIREBASE_DATABASE_EMULATOR_HOST",Nh={},Ph=!1;function Oh(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||wu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_u("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=ph(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/eso-portal-tool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[Th]),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=ph(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new Hu(Hu.OWNER):new Uu(e.name,e.options,t);zd("Invalid Firebase Database URL",s),kl(s.path)||wu("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Nh[t.name];i||(i={},Nh[t.name]=i);var a=i[e.toURLString()];a&&wu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Gd(e,Ph,n,r),i[e.toURLString()]=a,a}(u,e,c,new zu(e.name,n));return new Rh(f,e)}var Rh=function(){function e(t,n){Bt(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Kt(e,[{key:"_repo",get:function(){return this._instanceStarted||($d(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new kh(this._repo,hl())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Nh[t];n&&n[e.key]===e||wu("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),nh(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&wu("Cannot call "+e+" on a deleted database.")}}]),e}();function Dh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Un(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&wu("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&wu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Hu(Hu.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rn(JSON.stringify({alg:"none",type:"JWT"})),rn(JSON.stringify(a)),""].join(".")}(r.mockUserToken,e.app.options.projectId);a=new Hu(o)}!function(e,t,n,r){e.repoInfo_=new Gu("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}Pl.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Pl.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){ou=e}(Rr),Ir(new Hn("database",(function(e,t){var n=t.instanceIdentifier;return Oh(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Lr(iu,au,e),Lr(iu,au,"esm2017")}();Lr("firebase","9.17.2","app");var Ah="AK-C2EczMqOAM8SmsdsEpA6IVBY00Za8qm59qyq";var Lh={apiKey:function(){for(var e="",t=0;t<Ah.length;t++)e+=Ah[23*t%Ah.length];return e}(),authDomain:"rp-town-portal.firebaseapp.com",databaseURL:"https://rp-town-portal-default-rtdb.firebaseio.com",projectId:"rp-town-portal",storageBucket:"rp-town-portal.appspot.com",messagingSenderId:"663368057720",appId:"1:663368057720:web:abf29d3277a9c7bf58be8d"},Mh=Dr(Lh),jh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar(),t=arguments.length>1?arguments[1]:void 0,n=Tr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=fn("database");r&&Dh.apply(void 0,[n].concat(Gt(r)))}return n}(Mh),Fh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar(),t=Tr(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=Tr(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Pn(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;oi(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:$s,persistence:[qo,mo,go]}),r=hn("authTokenSyncURL");if(r){var i=ru(r);!function(e,t,n){Un(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){Un(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var a=cn("auth");return a&&wa(n,"http://".concat(a)),n}(Mh),zh=jh;function Uh(e){return new Promise((function(t,n){Eh(Sh(zh,"users/".concat(e))).then(function(){var r=Rt(Pt().mark((function r(i){var a,o;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i.exists()?((a=ue(ue({},i.val()),{},{uid:e})).permissions=a.permissions?a.permissions.split("+"):[],a.permissions.find((function(e){return"developer"===e}))&&(a.towns=(null===(o=window.metadata)||void 0===o?void 0:o.towns)||[]),a.towns||(a.towns=[]),t(a)):n("No user data found.");case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch(n)}))}var Hh={startupTasks:function(){return new Promise((function(e){Eh(Sh(zh,"metadata")).then((function(t){t.exists()&&(window.metadata=t.val()),Fh.currentUser?e(Uh(Fh.currentUser.uid)):e(!1)}))}))},login:function(e){return new Promise((function(t,n){try{(function(e,t,n){return lo(Un(e),Ka.credential(t,n))})(Fh,e.email,e.password).then((function(e){return Uh(e.user.uid)})).then(t).catch(n)}catch(r){n(r)}}))},logout:function(){return new Promise((function(e){(function(e){return Un(e).signOut()})(Fh).then(e)}))}},qh=Hh,Wh=qe({name:"auth",initialState:{busy:!0},reducers:{startupTasks:function(){},login:function(e,t){e.busy=!0,e.error=void 0},loginSuccess:function(e,t){e.user=t.payload,e.busy=!1,e.error=void 0},loginFailed:function(e,t){e.user=void 0,e.busy=!1,e.error=t.payload.toString()||"Login failed."},logout:function(e){e.busy=!0},logoutComplete:function(e){e.user=void 0,e.busy=!1},setBusy:function(e,t){e.busy=t.payload}}}),Bh=Wh.actions,Vh={error:function(e){return e.auth.error},busy:function(e){return e.auth.busy},user:function(e){return e.auth.user}};Tt.startListening({actionCreator:Bh.startupTasks,effect:function(){var e=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qh.startupTasks().then((function(e){e?n.dispatch(Bh.loginSuccess(e)):n.dispatch(Bh.setBusy(!1))})).catch((function(e){n.dispatch(Bh.loginFailed(e))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Tt.startListening({actionCreator:Bh.login,effect:function(){var e=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qh.login(t.payload).then((function(e){n.dispatch(Bh.loginSuccess(e))})).catch((function(e){n.dispatch(Bh.loginFailed(e))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Tt.startListening({actionCreator:Bh.logout,effect:function(){var e=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qh.logout().then((function(){n.dispatch(Bh.logoutComplete())}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});var Kh=Wh.reducer;function Gh(e){return e.replace(/[\s\W]/g,"").toLowerCase()}var $h={loadReleaseData:function(){return new Promise((function(e,t){Eh(Sh(zh,"release")).then(function(){var t=Rt(Pt().mark((function t(n){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.exists()?e(n.val()):e({});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(t)}))},loadTownData:function(e){return new Promise((function(t,n){Eh(Sh(zh,"development/".concat(Gh(e)))).then(function(){var n=Rt(Pt().mark((function n(r){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.exists()?t(r.val()):t({name:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch(n)}))},saveReleaseData:function(e){return new Promise((function(t,n){Ch(Sh(zh,"release"),e).then(t).catch(n)}))},saveTownData:function(e){return new Promise((function(t,n){Ch(Sh(zh,"development/".concat(Gh(e.name))),e).then(t).catch(n)}))}},Qh=$h,Yh={clear:null,generic:1,houseStyle:2},Jh=qe({name:"modal",initialState:{key:null},reducers:{showModal:function(e,t){e.key=t.payload.key,e.data=t.payload.data}}}),Zh=Jh.actions,Xh={key:function(e){return e.modal.key},data:function(e){return e.modal.data}},ep=Jh.reducer,tp=[{id:1,name:"Mara's Kiss Inn Room",size:"Inn Room",style:"Altmer",icon:"https://images.uesp.net/2/2f/ON-icon-house-Mara%27s_Kiss_Inn_Room.png"},{id:2,name:"The Rosy Lion",size:"Inn Room",style:"Breton",icon:"https://images.uesp.net/e/ec/ON-icon-house-The_Rosy_Lion_%28room%29.png",link:"https://en.uesp.net/wiki/Online:The_Rosy_Lion_(room)"},{id:3,name:"The Ebony Flask Inn Room",size:"Inn Room",style:"Dunmer",icon:"https://images.uesp.net/9/9d/ON-icon-house-The_Ebony_Flask_Inn_Room.png"},{id:4,name:"Barbed Hook Private Room",size:"Apartment",style:"Altmer",icon:"https://images.uesp.net/8/88/ON-icon-house-Barbed_Hook_Private_Room.png"},{id:5,name:"Sisters of the Sands Apartment",size:"Apartment",style:"Redguard",icon:"https://images.uesp.net/d/d6/ON-icon-house-Sisters_of_the_Sands_Apartment.png"},{id:6,name:"Flaming Nix Deluxe Garret",size:"Apartment",style:"Dunmer",icon:"https://images.uesp.net/a/a6/ON-icon-house-Flaming_Nix_Deluxe_Garret.png"},{id:7,name:"Black Vine Villa",size:"Small House",style:"Altmer",icon:"https://images.uesp.net/c/c0/ON-icon-house-Black_Vine_Villa.png"},{id:8,name:"Cliffshade",size:"Medium House",style:"Altmer",icon:"https://images.uesp.net/b/b4/ON-icon-house-Cliffshade.png"},{id:9,name:"Mathiisen Manor",size:"Large House",style:"Dunmer",icon:"https://images.uesp.net/e/e3/ON-icon-house-Mathiisen_Manor.png"},{id:10,name:"Humblemud",size:"Small House",style:"Argonian",icon:"https://images.uesp.net/1/10/ON-icon-house-Humblemud.png"},{id:11,name:"The Ample Domicile",size:"Medium House",style:"Argonian",icon:"https://images.uesp.net/9/9c/ON-icon-house-The_Ample_Domicile.png"},{id:12,name:"Stay-Moist Mansion",size:"Large House",style:"Argonian",icon:"https://images.uesp.net/e/e2/ON-icon-house-Stay-Moist_Mansion.png"},{id:13,name:"Snugpod",size:"Small House",style:"Bosmer",icon:"https://images.uesp.net/9/9f/ON-icon-house-Snugpod.png"},{id:14,name:"Bouldertree Refuge",size:"Medium House",style:"Bosmer",icon:"https://images.uesp.net/7/7e/ON-icon-house-Bouldertree_Refuge.png"},{id:15,name:"The Gorinir Estate",size:"Large House",style:"Bosmer",icon:"https://images.uesp.net/4/4f/ON-icon-house-The_Gorinir_Estate.png"},{id:16,name:"Captain Margaux's Place",map:"glenumbra_base",size:"Small House",style:"Breton",icon:"https://images.uesp.net/4/42/ON-icon-house-Captain_Margaux%27s_Place.png"},{id:17,name:"Ravenhurst",map:"rivenspire_base",size:"Medium House",style:"Breton",icon:"https://images.uesp.net/0/0d/ON-icon-house-Ravenhurst.png"},{id:18,name:"Gardner House",map:"wayrest_base",size:"Large House",style:"Breton",icon:"https://images.uesp.net/3/3d/ON-icon-house-Gardner_House.png"},{id:19,name:"Kragenhome",size:"Small House",style:"Dunmer",icon:"https://images.uesp.net/d/d9/ON-icon-house-Kragenhome.png"},{id:20,name:"Velothi Reverie",size:"Medium House",style:"Dunmer",icon:"https://images.uesp.net/6/6c/ON-icon-house-Velothi_Reverie.png"},{id:21,name:"Quondam Indorilia",size:"Large House",style:"Dunmer",icon:"https://images.uesp.net/9/9f/ON-icon-house-Quondam_Indorilia.png"},{id:22,name:"Moonmirth House",size:"Small House",style:"Khajiit",icon:"https://images.uesp.net/8/80/ON-icon-house-Moonmirth_House.png"},{id:23,name:"Sleek Creek House",size:"Medium House",style:"Khajiit",icon:"https://images.uesp.net/0/0c/ON-icon-house-Sleek_Creek_House.png"},{id:24,name:"Dawnshadow",size:"Large House",style:"Khajiit",icon:"https://images.uesp.net/d/df/ON-icon-house-Dawnshadow.png"},{id:25,name:"Cyrodiilic Jungle House",size:"Small House",style:"Imperial",icon:"https://images.uesp.net/e/ec/ON-icon-house-Cyrodilic_Jungle_House.png"},{id:26,name:"Domus Phrasticus",size:"Medium House",style:"Imperial",icon:"https://images.uesp.net/5/5f/ON-icon-house-Domus_Phrasticus.png"},{id:27,name:"Strident Springs Demesne",size:"Large House",style:"Imperial",icon:"https://images.uesp.net/a/a3/ON-icon-house-Strident_Springs_Demesne.png"},{id:28,name:"Autumn's-Gate",map:"therift_base",size:"Small House",style:"Nord",icon:"https://images.uesp.net/b/b3/ON-icon-house-Autumn%27s-Gate.png"},{id:29,name:"Grymharth's Woe",map:"windhelm_base",size:"Medium House",style:"Nord",icon:"https://images.uesp.net/6/6b/ON-icon-house-Grymharth%27s_Woe.png"},{id:30,name:"Old Mistveil Manor",map:"therift_base",size:"Large House",style:"Nord",icon:"https://images.uesp.net/6/63/ON-icon-house-Old_Mistveil_Manor.png"},{id:31,name:"Hammerdeath Bungalow",size:"Small House",style:"Orc",icon:"https://images.uesp.net/9/9d/ON-icon-house-Hammerdeath_Bungalow.png"},{id:32,name:"Mournoth Keep",size:"Medium House",style:"Orc",icon:"https://images.uesp.net/c/c8/ON-icon-house-Mournoth_Keep.png"},{id:33,name:"Forsaken Stronghold",size:"Large House",style:"Orc",icon:"https://images.uesp.net/8/88/ON-icon-house-Forsaken_Stronghold.png"},{id:34,name:"Twin Arches",size:"Small House",style:"Redguard",icon:"https://images.uesp.net/b/b4/ON-icon-house-Twin_Arches.png"},{id:35,name:"House of the Silent Magnifico",size:"Medium House",style:"Redguard",icon:"https://images.uesp.net/6/6a/ON-icon-house-House_of_the_Silent_Magnifico.png"},{id:36,name:"Hunding's Palatial Hall",size:"Large House",style:"Redguard",icon:"https://images.uesp.net/f/fa/ON-icon-house-Hunding%27s_Palatial_Hall.png"},{id:37,name:"Serenity Falls Estate",size:"Manor",style:"Khajiit",icon:"https://images.uesp.net/1/19/ON-icon-house-Serenity_Falls_Estate.png"},{id:38,name:"Daggerfall Overlook",size:"Manor",style:"Breton",icon:"https://images.uesp.net/9/9a/ON-icon-house-Daggerfall_Overlook.png"},{id:39,name:"Ebonheart Chateau",size:"Manor",style:"Dunmer",icon:"https://images.uesp.net/3/37/ON-icon-house-Ebonheart_Chateau.png"},{id:40,name:"Grand Topal Hideaway",map:"grandtopal_base",size:"Manor",style:"Argonian",icon:"https://images.uesp.net/6/66/ON-icon-house-Grand_Topal_Hideaway.png"},{id:41,name:"Earthtear Cavern",size:"Manor",style:"Redguard",icon:"https://images.uesp.net/2/2f/ON-icon-house-Earthtear_Cavern.png"},{id:42,name:"Saint Delyn Penthouse",size:"Inn Room",style:"Dunmer",icon:"https://images.uesp.net/e/e9/ON-icon-house-Saint_Delyn_Penthouse.png"},{id:43,name:"Amaya Lake Lodge",size:"Large House",style:"Dunmer",icon:"https://images.uesp.net/d/dd/ON-icon-house-Amaya_Lake_Lodge.png"},{id:44,name:"Ald Velothi Harbor House",size:"Medium House",style:"Dunmer",icon:"https://images.uesp.net/4/49/ON-icon-house-Ald_Velothi_Harbor_House.png"},{id:45,name:"Tel Galen",size:"Manor",style:"Dunmer",icon:"https://images.uesp.net/3/3a/ON-icon-house-Tel_Galen.png"},{id:46,name:"Linchal Grand Manor",size:"Manor",style:"Imperial",icon:"https://images.uesp.net/8/8d/ON-icon-house-Linchal_Grand_Manor.png"},{id:47,name:"Coldharbour Surreal Estate",map:"coldharbour_base",size:"Manor",style:"Other",icon:"https://images.uesp.net/7/74/ON-icon-house-Coldharbour_Surreal_Estate.png"},{id:48,name:"Hakkvild's High Hall",map:"falkreathhousing_base",size:"Manor",style:"Nord",icon:"https://images.uesp.net/0/0b/ON-icon-house-Hakkvild%27s_High_Hall.png"},{id:49,name:"Exorcised Coven Cottage",map:"glenumbra_base",size:"Medium House",style:"Other",icon:"https://images.uesp.net/1/11/ON-icon-house-Exorcised_Coven_Cottage.png"},{id:54,name:"Pariah's Pinnacle",size:"Manor",style:"Orc",icon:"https://images.uesp.net/6/6d/ON-icon-house-Pariah%27s_Pinnacle.png"},{id:55,name:"The Observatory Prior",size:"Manor",style:"Other",icon:"https://images.uesp.net/a/ab/ON-icon-house-The_Orbservatory_Prior.png"},{id:56,name:"The Erstwhile Sanctuary",size:"Manor",style:"Other",icon:"https://images.uesp.net/9/9f/ON-icon-house-The_Erstwhile_Sanctuary.png"},{id:57,name:"Princely Dawnlight Palace",size:"Manor",style:"Redguard",icon:"https://images.uesp.net/a/ae/ON-icon-house-Princely_Dawnlight_Palace.png"},{id:58,name:"Golden Gryphon Garret",size:"Inn Room",style:"Altmer",icon:"https://images.uesp.net/1/10/ON-icon-house-Golden_Gryphon_Garret.png"},{id:59,name:"Alinor Crest Townhouse",size:"Large House",style:"Altmer",icon:"https://images.uesp.net/c/c3/ON-icon-house-Alinor_Crest_Townhouse.png"},{id:60,name:"Colossal Aldmeri Grotto",size:"Manor",style:"Altmer",icon:"https://images.uesp.net/8/86/ON-icon-house-Colossal_Aldmeri_Grotto.png"},{id:61,name:"Hunter's Glade",size:"Manor",style:"Other",icon:"https://images.uesp.net/9/9a/ON-icon-house-Hunter%27s_Glade.png"},{id:62,name:"Grand Psijic Villa",size:"Manor",style:"Altmer",icon:"https://images.uesp.net/1/10/ON-icon-house-Grand_Psijic_Villa.png"},{id:63,name:"Enchanted Snow Globe Home",map:"snowglobe_base",size:"Large House",style:"Imperial",icon:"https://images.uesp.net/5/5d/ON-icon-house-Enchanted_Snow_Globe_Home.png"},{id:64,name:"Lakemire Xanmeer Manor",size:"Manor",style:"Argonian",icon:"https://images.uesp.net/b/be/ON-icon-house-Lakemire_Xanmeer_Manor.png"},{id:65,name:"Frostvault Chasm",size:"Medium House",style:"Other",icon:"https://images.uesp.net/4/43/ON-icon-house-Frostvault_Chasm.png"},{id:66,name:"Elinhir Private Arena",size:"Manor",style:"Imperial",icon:"https://images.uesp.net/5/5b/ON-icon-house-Elinhir_Private_Arena.png"},{id:68,name:"Sugar Bowl Suite",size:"Inn Room",style:"Khajiit",icon:"https://images.uesp.net/7/74/ON-icon-house-Sugar_Bowl_Suite.png"},{id:69,name:"Jode's Embrace",size:"Manor",style:"Khajiit",icon:"https://images.uesp.net/9/9d/ON-icon-house-Jode%27s_Embrace.png"},{id:70,name:"Hall of the Lunar Champion",size:"Manor",style:"Khajiit",icon:"https://images.uesp.net/d/d7/ON-icon-house-Hall_of_the_Lunar_Champion.png"},{id:71,name:"Moonsugar Meadow",map:"moonsugarmeadow_base",size:"Manor",style:"Khajiit",icon:"https://images.uesp.net/f/fb/ON-icon-house-Moon-Sugar_Meadow.png"},{id:72,name:"Wraithhome",size:"Manor",style:"Other",icon:"https://images.uesp.net/8/88/ON-icon-house-Wraithhome.png"},{id:73,name:"Lucky Cat Landing",size:"Medium House",style:"Khajiit",icon:"https://images.uesp.net/d/de/ON-icon-house-Lucky_Cat_Landing.png"},{id:74,name:"Potentate's Retreat",size:"Manor",style:"Khajiit",icon:"https://images.uesp.net/2/2a/ON-icon-house-Potentate%27s_Retreat.png"},{id:75,name:"Forgemaster's Falls",map:"forgemastersfalls_base",size:"Large House",style:"Orc",icon:"https://images.uesp.net/6/6a/ON-icon-house-Forgemaster_Falls.png"},{id:76,name:"Thieves' Oasis",size:"Manor",style:"Redguard",icon:"https://images.uesp.net/1/1f/ON-icon-house-Thieves%27_Oasis.png"},{id:77,name:"Snowmelt Suite",size:"Inn Room",style:"Nord",icon:"https://images.uesp.net/3/35/ON-icon-house-Snowmelt_Suite.png"},{id:78,name:"Proudspire Manor",size:"Large House",style:"Nord",icon:"https://images.uesp.net/3/3e/ON-icon-house-Proudspire_Manor.png"},{id:79,name:"Bastion Sanguinaris",size:"Manor",style:"Other",icon:"https://images.uesp.net/b/ba/ON-icon-house-Bastion_Sanguinaris.png"},{id:80,name:"Stillwaters Retreat",size:"Manor",style:"Other",icon:"https://images.uesp.net/0/03/ON-icon-house-Stillwaters_Retreat.png"},{id:81,name:"Antiquarian's Alpine Gallery",map:"antiquariansalpineext_base",size:"Large House",style:"Nord",icon:"https://images.uesp.net/c/c9/ON-icon-house-Antiquarian%27s_Alpine_Gallery.png"},{id:82,name:"Shalidor's Shrouded Realm",size:"Manor",style:"Nord",icon:"https://images.uesp.net/1/13/ON-icon-house-Shalidor%27s_Shrouded_Realm.png"},{id:83,name:"Stone Eagle Aerie",size:"Manor",style:"Other",icon:"https://images.uesp.net/c/c9/ON-icon-house-Stone_Eagle_Aerie.png"},{id:85,name:"Kushalit Sanctuary",size:"Manor",style:"Other",icon:"https://images.uesp.net/1/1b/ON-icon-house-Kushalit_Sanctuary.png"},{id:86,name:"Varlaisvea Ayleid Ruins",size:"Manor",style:"Other",icon:"https://images.uesp.net/0/0b/ON-icon-house-Varlaisvea_Ayleid_Ruins.png"},{id:87,name:"Pilgrim's Rest",size:"Inn Room",style:"Imperial",icon:"https://images.uesp.net/a/a4/ON-icon-house-Pilgrim%27s_Rest.png"},{id:88,name:"Water's Edge",size:"Large House",style:"Imperial",icon:"https://images.uesp.net/4/45/ON-icon-house-Water%27s_Edge.png"},{id:89,name:"Pantherfang Chapel",size:"Manor",style:"Imperial",icon:"https://images.uesp.net/5/5b/ON-icon-house-Pantherfang_Chapel.png"},{id:90,name:"Doomchar Plateau",size:"Manor",style:"Other",icon:"https://images.uesp.net/1/1b/ON-icon-house-Doomchar_Plateau.png"},{id:91,name:"Sweetwater Cascades",size:"Manor",style:"Imperial",icon:"https://images.uesp.net/a/a2/ON-icon-house-Sweetwater_Cascades.png"},{id:92,name:"Ossa Accentium",size:"Manor",style:"Other",icon:"https://images.uesp.net/b/b2/ON-icon-house-Ossa_Accentium.png"},{id:93,name:"Agony's Ascent",size:"Manor",style:"Other",icon:"https://images.uesp.net/5/5f/ON-icon-house-Agony%27s_Ascent.png"},{id:94,name:"Seaveil Spire",size:"Manor",style:"Other",icon:"https://images.uesp.net/4/4e/ON-icon-house-Seaveil_Spire.png"},{id:95,name:"Ancient Anchor Berth",size:"Inn Room",style:"Breton",icon:"https://images.uesp.net/6/63/ON-icon-house-Ancient_Anchor_Berth.png"},{id:96,name:"Highhallow Hold",size:"Manor",style:"Breton",icon:"https://images.uesp.net/4/43/ON-icon-house-Highhallow_Hold.png"},{name:"Alik'r Desert",map:"alikr_base",size:"Zone",style:"Redguard",icon:"https://images.uesp.net/9/9d/ON-icon-Redguard.png"},{name:"Artaeum",map:"artaeum_base",size:"Zone",style:"Other",icon:"https://images.uesp.net/7/7f/ON-icon-ESO_Plus.png"},{name:"Auridon",map:"auridon_base",size:"Zone",style:"Altmer",icon:"https://images.uesp.net/5/5e/ON-icon-Altmer.png"},{name:"Bal Foyen",map:"balfoyen_base",size:"Zone",style:"Dunmer",icon:"https://images.uesp.net/8/86/ON-icon-Dunmer.png"},{name:"Bangkorai",map:"bangkorai_base",size:"Zone",style:"Breton",icon:"https://images.uesp.net/9/94/ON-icon-Breton.png"},{name:"Betnikh",map:"betnikh_base",size:"Zone",style:"Orc",icon:"https://images.uesp.net/6/64/ON-icon-Orc.png"},{name:"Blackreach: Greymoor Caverns",map:"blackreach_base",size:"Zone",style:"Other",icon:"https://images.uesp.net/7/7f/ON-icon-ESO_Plus.png"},{name:"Blackwood",map:"blackwood_base",size:"Zone",style:"Imperial",icon:"https://images.uesp.net/4/4d/ON-concept-Imperial_symbol.png"},{name:"Bleackrock Isle",map:"bleackrock_base",size:"Zone",style:"Nord",icon:"https://images.uesp.net/5/5f/ON-icon-Nord.png"},{name:"Clockwork City",map:"clockwork_base",size:"Zone",style:"Other",icon:"https://images.uesp.net/7/7f/ON-icon-ESO_Plus.png"},{name:"Coldharbour",map:"coldharbour_base",size:"Zone",style:"Other",icon:"https://images.uesp.net/7/7f/ON-icon-ESO_Plus.png"},{name:"Craglorn",map:"craglorn_base",size:"Zone",style:"Redguard",icon:"https://images.uesp.net/9/9d/ON-icon-Redguard.png"},{name:"Deshaan",map:"deshaan_base",size:"Zone",style:"Dunmer",icon:"https://images.uesp.net/8/86/ON-icon-Dunmer.png"},{name:"Eastmarch",map:"eastmarch_base",size:"Zone",style:"Nord",icon:"https://images.uesp.net/5/5f/ON-icon-Nord.png"},{name:"Fargrave",map:"u32_fargrave_base",size:"Zone",style:"Other",icon:"https://images.uesp.net/7/7f/ON-icon-ESO_Plus.png"},{name:"Galen",map:"u36_galenisland_base",size:"Zone",style:"Breton",icon:"https://images.uesp.net/9/94/ON-icon-Breton.png"},{name:"Glenumbra",map:"glenumbra_base",size:"Zone",style:"Breton",icon:"https://images.uesp.net/9/94/ON-icon-Breton.png"},{name:"Gold Coast",map:"goldcoast_base",size:"Zone",style:"Imperial",icon:"https://images.uesp.net/4/4d/ON-concept-Imperial_symbol.png"},{name:"Grahtwood",map:"grahtwood_base",size:"Zone",style:"Bosmer",icon:"https://images.uesp.net/d/d2/ON-icon-Bosmer.png"},{name:"Greenshade",map:"greenshade_base",size:"Zone",style:"Bosmer",icon:"https://images.uesp.net/d/d2/ON-icon-Bosmer.png"},{name:"Hew's Bane",map:"hewsbane_base",size:"Zone",style:"Redguard",icon:"https://images.uesp.net/9/9d/ON-icon-Redguard.png"},{name:"High Isle",map:"u34_systreszone_base",size:"Zone",style:"Breton",icon:"https://images.uesp.net/9/94/ON-icon-Breton.png"},{name:"Khenarthi's Roost",map:"Khenarthisroost_base",size:"Zone",style:"Khajiit",icon:"https://images.uesp.net/d/d1/ON-icon-Khajiit.png"},{name:"Malabal Tor",map:"malabaltor_base",size:"Zone",style:"Bosmer",icon:"https://images.uesp.net/d/d2/ON-icon-Bosmer.png"},{name:"Murkmire",map:"murkmire_base",size:"Zone",style:"Argonian",icon:"https://images.uesp.net/f/f9/ON-icon-Argonian.png"},{name:"Northern Elsweyr",map:"eslweyr_base",size:"Zone",style:"Khajiit",icon:"https://images.uesp.net/d/d1/ON-icon-Khajiit.png"},{name:"Reaper's March",map:"reapersmarch_base",size:"Zone",style:"Khajiit",icon:"https://images.uesp.net/d/d1/ON-icon-Khajiit.png"},{name:"Rivenspire",map:"rivenspire_base",size:"Zone",style:"Breton",icon:"https://images.uesp.net/9/94/ON-icon-Breton.png"},{name:"Shadowfen",map:"shadowfen_base",size:"Zone",style:"Argonian",icon:"https://images.uesp.net/f/f9/ON-icon-Argonian.png"},{name:"Southern Elsweyr",map:"southernelsweyr_base",size:"Zone",style:"Khajiit",icon:"https://images.uesp.net/d/d1/ON-icon-Khajiit.png"},{name:"Stonefalls",map:"stonefalls_base",size:"Zone",style:"Dunmer",icon:"https://images.uesp.net/8/86/ON-icon-Dunmer.png"},{name:"Stormhaven",map:"stormhaven_base",size:"Zone",style:"Breton",icon:"https://images.uesp.net/9/94/ON-icon-Breton.png"},{name:"Stros M'Kai",map:"strosmkai_base",size:"Zone",style:"Redguard",icon:"https://images.uesp.net/9/9d/ON-icon-Redguard.png"},{name:"Summerset",map:"summerset_base",size:"Zone",style:"Altmer",icon:"https://images.uesp.net/5/5e/ON-icon-Altmer.png"},{name:"The Deadlands",size:"Zone",style:"Other",icon:"https://images.uesp.net/7/7f/ON-icon-ESO_Plus.png"},{name:"The Reach",map:"reach_base",size:"Zone",style:"Other",icon:"https://images.uesp.net/7/7f/ON-icon-ESO_Plus.png"},{name:"The Rift",map:"therift_base",size:"Zone",style:"Nord",icon:"https://images.uesp.net/5/5f/ON-icon-Nord.png"},{name:"Vvardenfell",map:"vvardenfell_base",size:"Zone",style:"Dunmer",icon:"https://images.uesp.net/8/86/ON-icon-Dunmer.png"},{name:"Western Skyrim",map:"westernskryim_base",size:"Zone",style:"Nord",icon:"https://images.uesp.net/5/5f/ON-icon-Nord.png"},{name:"Wrothgar",map:"wrothgar_base",size:"Zone",style:"Orc",icon:"https://images.uesp.net/6/64/ON-icon-Orc.png"}],np={"Inn Room":{furnishings:{traditional:15,special:1,collectible:1},specialCollectibles:1,playerCap:2},Apartment:{furnishings:{traditional:50,special:1,collectible:1},specialCollectibles:1,playerCap:6},"Small House":{furnishings:{traditional:100,special:2,collectible:5},specialCollectibles:2,playerCap:6},"Medium House":{furnishings:{traditional:200,special:3,collectible:10},specialCollectibles:3,playerCap:12},"Large House":{furnishings:{traditional:300,special:4,collectible:20},specialCollectibles:4,playerCap:12},Manor:{furnishings:{traditional:350,special:5,collectible:40},specialCollectibles:5,playerCap:24}},rp={required:["houseId","owner","name"],optional:["description","public"]},ip={required:["x","y","z","cx","cy"],optional:["radius","nameOverride","portalDescription"]};function ap(e,t){var n={};return t.required.forEach((function(t){n[t]=e[t]})),t.optional.forEach((function(t){e[t]&&(n[t]=e[t])})),n}function op(e){if(!e||e.startsWith("("))return e;var t=e.match(/^(\S+)(\s.+)$/);return(3===t.length?"|u25:0::".concat(t[1],"|u").concat(t[2]):e).replace(/"/g,'\\"')}function sp(e){var t=function(e){var t={},n=[],r=500;return Object.values(e).forEach((function(e){e.locations.forEach((function(e){if("string"===typeof e.houseId)n.indexOf(e.houseId)<0&&n.push(e.houseId);else if(!t[e.houseId]){var r=tp.find((function(t){return t.id===e.houseId}));t[e.houseId]={id:e.houseId,name:r.name,map:r.map||"null"}}}))})),n.sort(),n.forEach((function(e){var n=r++,i=tp.find((function(t){return t.name===e}));t[n]={id:n,name:e,map:i.map||"null"}})),t}(e),n=function(e){var t=[],n=1;return Object.values(e).forEach((function(e){t.push({name:e.name,startingLocation:n}),n+=e.locations.length})),t}(e),r=function(e,t){var n=[];return Object.values(e).forEach((function(e,r){e.locations.forEach((function(e){var i=ap(e,rp);i.internalId=e.id,i.townId=r,"string"===typeof i.houseId&&(i.houseId=Object.values(t).find((function(e){return e.name===i.houseId})).id,i.displayName=i.name,i.name=""),n.push(i)}))})),n}(e,t),i=function(e,t){var n=[];return Object.values(e).forEach((function(e){e.locations.forEach((function(e){e.portals.forEach((function(r){var i=ap(r,ip);i.location=t.findIndex((function(t){return t.internalId===e.id})),t[i.location].houseId>=500&&(i.height=200),i.destinations=[],r.destinations.forEach((function(e){i.destinations.push(t.findIndex((function(t){return t.internalId===e})))})),n.push(i)}))}))})),n}(e,r),a="if not RTP then RTP = {} end\n\n";a+="RTP.HouseMaps = {\n",Object.entries(t).forEach((function(e){var t=Wt(e,2),n=t[0],r=t[1];a+="\t[".concat(n,"] = {id = ").concat(n,', map = "').concat(r.map,'"}, -- ').concat(r.name,"\n")})),a+="}\n",a+="RTP.Towns ={\n",n.forEach((function(e,t){a+="\t{id = ".concat(t+1,', name = "').concat(e.name,'", startingLocation = ').concat(e.startingLocation,"},","\n")})),a+="}\n",a+="RTP.Locations = {\n",r.forEach((function(e,t){a+="\t[".concat(t+1,"] = {id = ").concat(t+1,", houseId = ").concat(e.houseId,', owner = "').concat(e.owner,'", townId = ').concat(e.townId+1,', name="').concat(e.name,'"'),e.public&&(a+=", public = ".concat(e.public)),e.description&&(a+=', description="'.concat(op(e.description),'"')),a+="},\n"})),a+="}\n",a+="RTP.Portals = {\n",r.forEach((function(e,t){var r=i.filter((function(e){return e.location===t}));r.length&&(a+="\t[".concat(t+1,"] = { -- ").concat(e.name||"".concat(e.displayName," portal to ").concat(n[e.townId].name),"\n"),r.forEach((function(e,n){a+="\t\t{id = ".concat(n,", location = ").concat(t+1,", destinations = {").concat(e.destinations.map((function(e){return e+1})).join(","),"}, x = ").concat(e.x,", y = ").concat(e.y,", z = ").concat(e.z,", cx = ").concat(e.cx,", cy = ").concat(e.cy),e.radius&&10!==e.radius&&(a+=", radius = ".concat(e.radius)),e.height&&(a+=", height = ".concat(e.height)),e.nameOverride&&(a+=', nameOverride = "'.concat(e.nameOverride,'"')),e.portalDescription&&(a+=', portalDescription = "'.concat(op(e.portalDescription),'"')),a+="},\n"})),a+="\t},\n")})),a+="}\n";var o=URL.createObjectURL(new Blob([a],{type:"text/plain"})),s=document.createElement("a");s.download="LocationData.lua",s.href=o,s.dataset.downloadurl=["text/plain",s.download,s.href].join(":"),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout((function(){URL.revokeObjectURL(s.href)}),1500)}var up={locations:[]},lp={name:"Unnamed Location",houseId:1,owner:"",portals:[]},cp={destinations:[],x:0,y:0,z:0,cx:0,cy:0};function fp(e){var t=ue(ue({},up),e);t.locations=Gt(t.locations);for(var n=0;n<t.locations.length;n++){t.locations[n]=ue(ue({},lp),t.locations[n]);for(var r=0;r<t.locations[n].portals.length;r++)t.locations[n].portals[r]=ue(ue({},cp),t.locations[n].portals[r])}return t}var dp=qe({name:"town",initialState:{busy:!1,changed:!1,filter:[]},reducers:{loadReleaseData:function(e){e.release=void 0},loadReleaseDataSuccess:function(e,t){e.release=ue({},t.payload),Object.keys(e.release).forEach((function(t){e.release[t].name&&(e.release[t]=fp(e.release[t]))}))},loadTownData:function(e){e.backup=void 0,e.working=void 0,e.changed=!1},loadTownDataSuccess:function(e,t){e.backup=fp(t.payload),e.working=JSON.parse(JSON.stringify(e.backup))},saveReleaseData:function(e,t){e.busy=!0},saveReleaseDataSuccess:function(e,t){e.release=t.payload,e.busy=!1},saveTownData:function(e){e.working=ue(ue({},e.working),{},{modified:Date.now()}),e.busy=!0,e.changed=!1},saveTownDataSuccess:function(e){e.busy=!1,e.backup=JSON.parse(JSON.stringify(e.working))},setBusy:function(e,t){e.busy=t.payload},resetWorkingData:function(e){e.working=JSON.parse(JSON.stringify(e.backup)),e.changed=!1},addLocation:function(e){e.working=ue({},e.working),e.working.locations=[].concat(Gt(e.working.locations),[ue(ue({},lp),{},{id:Date.now()})]),e.changed=!0},deleteLocation:function(e,t){e.working=ue({},e.working),e.working.locations=e.working.locations.filter((function(e){return e.id!==t.payload.locationId})),e.working.locations.forEach((function(e){e.portals.forEach((function(e){e.destinations=e.destinations.filter((function(e){return e!==t.payload.locationId}))}))})),e.changed=!0},setLocationFilter:function(e,t){e.filter=t.payload},setLocationData:function(e,t){var n=e.working.locations.findIndex((function(e){return e.id===t.payload.locationId}));n>-1&&(e.working=ue({},e.working),e.working.locations=Gt(e.working.locations),e.working.locations[n]=ue(ue({},e.working.locations[n]),t.payload.data),e.changed=!0)},addPortal:function(e,t){var n=e.working.locations.findIndex((function(e){return e.id===t.payload.locationId}));n>-1&&(e.working=ue({},e.working),e.working.locations=Gt(e.working.locations),e.working.locations[n]=ue({},e.working.locations[n]),e.working.locations[n].portals=[].concat(Gt(e.working.locations[n].portals),[ue(ue({},cp),{},{id:Date.now()})]),e.changed=!0)},deletePortal:function(e,t){var n=e.working.locations.findIndex((function(e){return e.id===t.payload.locationId}));n>-1&&(e.working=ue({},e.working),e.working.locations=Gt(e.working.locations),e.working.locations[n]=ue({},e.working.locations[n]),e.working.locations[n].portals=e.working.locations[n].portals.filter((function(e){return e.id!==t.payload.portalId})),e.changed=!0)},setPortalData:function(e,t){var n=e.working.locations.findIndex((function(e){return e.id===t.payload.locationId}));if(n>-1){var r=e.working.locations[n].portals.findIndex((function(e){return e.id===t.payload.portalId}));r>-1&&(e.working=ue({},e.working),e.working.locations=Gt(e.working.locations),e.working.locations[n]=ue({},e.working.locations[n]),e.working.locations[n].portals=Gt(e.working.locations[n].portals),e.working.locations[n].portals[r]=ue(ue({},e.working.locations[n].portals[r]),t.payload.data),e.changed=!0)}},exportAddonData:function(e,t){sp(t.payload)}}}),hp=dp.actions,pp={busy:function(e){return e.town.busy},changed:function(e){return e.town.changed},filter:function(e){return e.town.filter},release:function(e){return e.town.release},working:function(e){return e.town.working}};Tt.startListening({actionCreator:hp.loadReleaseData,effect:function(){var e=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qh.loadReleaseData().then((function(e){e&&n.dispatch(hp.loadReleaseDataSuccess(e))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Tt.startListening({actionCreator:hp.loadTownData,effect:function(){var e=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.payload&&Qh.loadTownData(t.payload).then((function(e){e&&n.dispatch(hp.loadTownDataSuccess(e))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Tt.startListening({actionCreator:hp.saveReleaseData,effect:function(){var e=Rt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qh.saveReleaseData(t.payload).then((function(){n.dispatch(hp.saveReleaseDataSuccess(t.payload)),n.dispatch(Zh.showModal({key:Yh.generic,data:{title:"Success",text:"Data saved to release branch."}}))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Tt.startListening({actionCreator:hp.saveTownData,effect:function(){var e=Rt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.getState().town.working,Qh.saveTownData(r).then((function(){n.dispatch(hp.saveTownDataSuccess()),n.dispatch(Zh.showModal({key:Yh.generic,data:{title:"Success",text:"Data for ".concat(r.name," has been saved.")}}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});var vp=function(e){var t,n=Fe(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,l=void 0===u||u,c=r.preloadedState,f=void 0===c?void 0:c,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof a)t=a;else{if(!Le(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=ve(a)}var p=s;if("function"===typeof p&&(p=p(n),!ze&&!Array.isArray(p)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!ze&&p.some((function(e){return"function"!==typeof e})))throw new Error("each middleware provided to configureStore must be a function");var v=ye.apply(void 0,p),m=me;l&&(m=Ae(Oe({trace:!ze},"object"===typeof l&&l)));var y=[v];return Array.isArray(h)?y=Se([v],h):"function"===typeof h&&(y=h(y)),pe(t,f,m.apply(void 0,y))}({reducer:{auth:Kh,town:dp.reducer,modal:ep},middleware:function(e){return e({thunk:!1}).prepend(Nt)}}),mp=n(248),yp=n(327),gp=n(164);var _p=function(e){e()},bp=function(){return _p},kp=(0,e.createContext)(null);function wp(){return(0,e.useContext)(kp)}var Sp=function(){throw new Error("uSES not initialized!")},xp=Sp,Cp=function(e,t){return e===t};function Ep(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kp,n=t===kp?wp:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cp;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=xp(o.addNestedSub,a.getState,s||a.getState,t,r);return(0,e.useDebugValue)(u),u}}var Ip=Ep();n(110),n(900);var Tp={notify:function(){},get:function(){return[]}};function Np(e,t){var n,r=Tp;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=bp(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Tp)},getListeners:function(){return r}};return o}var Pp=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;var Op=function(t){var n=t.store,r=t.context,i=t.children,a=t.serverState,o=(0,e.useMemo)((function(){var e=Np(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,e.useMemo)((function(){return n.getState()}),[n]);Pp((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||kp;return e.createElement(u.Provider,{value:o},i)};function Rp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kp,n=t===kp?wp:function(){return(0,e.useContext)(t)};return function(){return n().store}}var Dp=Rp();function Ap(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kp,t=e===kp?Dp:Rp(e);return function(){return t().dispatch}}var Lp,Mp=Ap();!function(e){xp=e}(yp.useSyncExternalStoreWithSelector),function(e){e}(mp.useSyncExternalStore),Lp=gp.unstable_batchedUpdates,_p=Lp;var jp=n(184);function Fp(e,t){return t.length>=4&&e.match(/.+@.+\..+/)}var zp=function(){var t=Wt((0,e.useState)(""),2),n=t[0],r=t[1],i=Wt((0,e.useState)(""),2),a=i[0],o=i[1],s=Ip(Vh.error),u=Mp();return(0,jp.jsx)("section",{children:(0,jp.jsxs)("form",{id:"login",children:[(0,jp.jsx)("h2",{children:"Login"}),(0,jp.jsxs)("div",{children:[(0,jp.jsx)("label",{children:"Email:"}),(0,jp.jsx)("input",{type:"email",value:n,onChange:function(e){r(e.target.value)}})]}),(0,jp.jsxs)("div",{children:[(0,jp.jsx)("label",{children:"Password:"}),(0,jp.jsx)("input",{type:"password",value:a,onChange:function(e){o(e.target.value)}})]}),(0,jp.jsx)("button",{type:"submit",disabled:!Fp(n,a),onClick:function(e){e.preventDefault(),u(Bh.login({email:n,password:a}))},children:"Login"}),s&&(0,jp.jsx)("div",{className:"loginError",children:s})]})})};var Up=function(t){var n=t.value,r=t.onChange,i=Ip(pp.filter),a=Mp(),o=tp.filter((function(e){return!(null!==i&&void 0!==i&&i.length)||i.indexOf(e.style)>-1})).sort((function(e,t){return"Zone"===e.size&&"Zone"!==t.size?1:"Zone"!==e.size&&"Zone"===t.size||e.name<t.name?-1:e.name>t.name?1:0})),s=o.find((function(e){return e.id==n||e.name===n}));if((0,e.useEffect)((function(){s||r({target:{name:"houseId",value:o[0].id||o[0].name}})}),[s,i]),!s)return null;var u="Zone"!==(null===s||void 0===s?void 0:s.size)?"".concat(np[s.size].playerCap," Player House"):null;return(0,jp.jsxs)("div",{id:"houseSelect",className:"formGroup",children:[null!==s&&void 0!==s&&s.icon?(0,jp.jsx)("img",{className:null!==s&&void 0!==s&&s.map?"":"warning",alt:"House Icon",title:u,src:s.icon,onClick:null!==s&&void 0!==s&&s.map?null:function(){console.log("Hi!"),a(Zh.showModal({key:Yh.generic,data:{title:"Help Needed!",text:['This house is missing some information needed to be fully compatible with the addon!  If you own this house, please visit it and Ctrl-click the addon\'s house icon.  Choose "Generate Portal text" and collect the Map line that looks like this:','CODE:Map: [49] = {id = 49, map = "glenumbra_base"},',"Send it to Bobby on Discord, please!"],width:"500px"}}))}}):(0,jp.jsx)("img",{}),(0,jp.jsx)("select",{name:"houseId",value:n,onChange:r,children:o.map((function(e){return(0,jp.jsx)("option",{value:e.id||e.name,children:e.name},e.id||e.name)}))}),(0,jp.jsx)("button",{title:"Filter Houses/Zones",onClick:function(){a(Zh.showModal({key:Yh.houseStyle}))},children:"\u2229"})]})};function Hp(e){return e?ue(ue({},e),{},{nameOverride:e.nameOverride||"",portalDescription:e.portalDescription||""}):{destinations:[]}}var qp=function(t){var n=t.location,r=t.portal,i=Wt((0,e.useState)(Hp(r)),2),a=i[0],o=i[1],s=Ip(pp.working),u=(0,e.useRef)(null),l=((0,e.useRef)(null),Mp());if((0,e.useEffect)((function(){o(Hp(r))}),[r]),!n||!n.portals.find((function(e){return e.id===(null===r||void 0===r?void 0:r.id)})))return null;var c=function(e){var t=ue({},a);"checkbox"===e.target.type?t[e.target.name]=!!e.target.checked:"radius"===e.target.name?t[e.target.name]=Number(e.target.value)||10:t[e.target.name]=e.target.value,o(t),l(hp.setPortalData({locationId:n.id,portalId:r.id,data:t}))},f=function(e){var t=ue({},a),i=Number(e.target.dataset.key),s=t.destinations.indexOf(i);s>=0&&(t.destinations=Gt(t.destinations),t.destinations.splice(s,1),o(t),l(hp.setPortalData({locationId:n.id,portalId:r.id,data:t})))},d=s.locations.filter((function(e){return e.id!==n.id&&"string"!==typeof e.houseId&&r.destinations.indexOf(e.id)<0}));return(0,jp.jsxs)(jp.Fragment,{children:[(0,jp.jsxs)("div",{id:"portalPanel",children:[(0,jp.jsxs)("div",{id:"destinationSelection",children:[(0,jp.jsx)("h4",{children:"Destinations"}),(0,jp.jsx)("div",{className:"addList",children:a.destinations.map((function(e){var t;return(0,jp.jsxs)("div",{children:[(0,jp.jsx)("div",{children:(null===(t=s.locations.find((function(t){return t.id===e})))||void 0===t?void 0:t.name)||"WHAT"}),(0,jp.jsx)("button",{className:"deleteButton",title:"Delete Destination","data-key":e,onClick:f})]},e)}))}),(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("label",{children:"Add:"}),(0,jp.jsx)("select",{ref:u,disabled:!d.length,children:d.map((function(e){return(0,jp.jsx)("option",{value:e.id,children:e.name},e.id)}))}),(0,jp.jsx)("button",{name:"destinations",title:"Add Destination",disabled:!d.length,onClick:function(){var e=ue({},a),t=u.current.value;t&&(e.destinations=[].concat(Gt(e.destinations),[Number(t)]),o(e),l(hp.setPortalData({locationId:n.id,portalId:r.id,data:e})))},children:"+"})]})]}),(0,jp.jsxs)("div",{id:"portalForm",children:[(0,jp.jsxs)("div",{id:"portalCoords",children:[(0,jp.jsx)("label",{children:"Position"}),(0,jp.jsxs)("div",{children:[(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("label",{children:"X:"}),(0,jp.jsx)("input",{type:"text",readOnly:!0,value:a.x})]}),(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("label",{children:"Y:"}),(0,jp.jsx)("input",{type:"text",readOnly:!0,value:a.y})]}),(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("label",{children:"Z:"}),(0,jp.jsx)("input",{type:"text",readOnly:!0,value:a.z})]})]}),(0,jp.jsxs)("div",{children:[(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("label",{children:"Radius:"}),(0,jp.jsx)("input",{type:"number",name:"radius",min:"5",max:"500",step:"5",placeholder:"10",value:a.radius,onChange:c})]}),(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("label",{children:"Map X:"}),(0,jp.jsx)("input",{type:"text",readOnly:!0,value:a.cx})]}),(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("label",{children:"Map Y:"}),(0,jp.jsx)("input",{type:"text",readOnly:!0,value:a.cy})]})]}),(0,jp.jsxs)("div",{children:[(0,jp.jsx)("button",{title:"Paste Data from ESO",onClick:function(){navigator.clipboard.readText().then((function(e){var t=e.match(/Portal: {location = -?[0-9]+, destinations = {##}, x = (-?[0-9]+), y = (-?[0-9]+), z = (-?[0-9]+), cx = (-?[0-9]+\.[0-9]+), cy = (-?[0-9]+\.[0-9]+)}/);if(6===(null===t||void 0===t?void 0:t.length)){var i=ue({},a);i.x=Number(t[1]),i.y=Number(t[2]),i.z=Number(t[3]),i.cx=Number(t[4]),i.cy=Number(t[5]),o(i),l(hp.setPortalData({locationId:n.id,portalId:r.id,data:i}))}}))},children:"Paste"}),(0,jp.jsx)("button",{id:"portalHelp",title:"How to Paste Data",onClick:function(){l(Zh.showModal({key:Yh.generic,data:{title:"Portal Positioning",text:["You can get portal positioning information in ESO using the Role-Play Town Portals addon.",'Click on the addon\'s house icon, as if you were going to travel to a town, but hold the Control key as you do so.  There will be a new option in the menu, "Generate Portal text", which will dump some information to System text in your chat.  The line you want looks like this:',"CODE:Portal: {location = -1, destinations = {##}, x = 66889, y = 9965, z = 49322, cx = 0.719289, cy = 0.443020},","You will need to copy this line to clipboard (pChat addon is recommended), and then you can use the Paste button here to import the data from the line."],width:"600px"}}))}})]})]}),(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("label",{children:"Name:"}),(0,jp.jsx)("input",{type:"text",name:"nameOverride",placeholder:"Optional",value:a.nameOverride,onChange:c})]}),(0,jp.jsx)("div",{className:"textBox",children:(0,jp.jsx)("textarea",{name:"portalDescription",value:a.portalDescription,placeholder:"Description (optional)",onChange:c})})]})]}),(0,jp.jsx)("div",{children:(0,jp.jsx)("button",{className:"deleteButton",title:"Delete Portal",onClick:function(){l(Zh.showModal({key:Yh.generic,data:{title:"Delete ".concat(n.name||"This Poral","?"),text:"This action cannot only be undone by reverting all unsaved changes.",action:hp.deletePortal({locationId:n.id,portalId:r.id})}}))}})})]})};var Wp=function(t){var n,r,i=t.location,a=Wt((0,e.useState)(null!==i&&void 0!==i&&null!==(n=i.portals)&&void 0!==n&&n.length?i.portals[0].id:null),2),o=a[0],s=a[1],u=Ip(pp.working),l=Mp();if((0,e.useEffect)((function(){var e;s(null!==(e=i.portals)&&void 0!==e&&e.length?i.portals[0].id:null)}),[i.id]),(0,e.useEffect)((function(){var e;null!==i&&void 0!==i&&null!==(e=i.portals)&&void 0!==e&&e.length?s(i.portals[i.portals.length-1].id):s(null)}),[null===i||void 0===i||null===(r=i.portals)||void 0===r?void 0:r.length]),null===i||void 0===i||!i.portals)return null;var c=function(e){return e.nameOverride?e.nameOverride:e.destinations.length?e.destinations.map((function(e){var t;return(null===(t=u.locations.find((function(t){return t.id===e})))||void 0===t?void 0:t.name)||"Unnamed Location"})).join(", "):"New Portal"};return(0,jp.jsxs)("div",{id:"portalEditor",children:[(0,jp.jsxs)("div",{id:"portalSelection",children:[(0,jp.jsx)("h3",{children:"Portals"}),(0,jp.jsx)("div",{id:"portalList",className:"selectionList",children:i.portals.map((function(e){return(0,jp.jsx)("div",{className:e.id===o?"active":"",onClick:function(){var t;t=e.id,s(t)},children:c(e)},e.id)}))}),(0,jp.jsx)("button",{onClick:function(){l(hp.addPortal({locationId:i.id}))},children:"Add New"})]}),o&&(0,jp.jsx)(qp,{location:i,portal:i.portals.find((function(e){return e.id===o}))})]})};function Bp(e){if(e)return{name:e.name,public:e.public||!1,houseId:e.houseId,owner:e.owner,description:e.description||""}}var Vp=function(t){var n=t.location,r=Wt((0,e.useState)(Bp(n)),2),i=r[0],a=r[1],o=Mp(),s=(0,e.useRef)(null);if((0,e.useEffect)((function(){a(Bp(n))}),[n]),!n)return(0,jp.jsx)(jp.Fragment,{});var u,l=function(e){var t=ue({},i);"checkbox"===e.target.type?t[e.target.name]=!!e.target.checked:"owner"===e.target.name?"string"===typeof t.houseId?t[e.target.name]="":t[e.target.name]="@".concat(e.target.value.replace(/^@*/,"")):"houseId"===e.target.name?e.target.value.length<=3?("string"===typeof t.houseId&&(t.name="Unnamed Location"),t[e.target.name]=Number(e.target.value)):(t[e.target.name]=e.target.value,t.description="",t.name=e.target.value,t.owner="",t.public=!1):t[e.target.name]=e.target.value,a(t),o(hp.setLocationData({locationId:n.id,data:t}))};return(0,jp.jsxs)(jp.Fragment,{children:[(0,jp.jsxs)("div",{id:"locationEditor",children:[(0,jp.jsx)("div",{children:(0,jp.jsx)("label",{children:"Current Location"})}),(0,jp.jsxs)("div",{id:"locationForm",children:[(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("label",{children:"Name:"}),(0,jp.jsx)("input",{type:"text",name:"name",className:i.name.length>0?"":"invalid",placeholder:"Unnamed Location",disabled:"string"===typeof i.houseId,value:i.name,onChange:l})]}),(0,jp.jsxs)("div",{className:"formGroup",title:"Public locations can be traveled to directly by clicking the addon icon.",children:[(0,jp.jsx)("input",{type:"checkbox",ref:s,name:"public",disabled:"string"===typeof i.houseId,checked:!!i.public,onChange:l}),(0,jp.jsx)("label",{onClick:function(){s.current.click()},children:"Public"})]}),(0,jp.jsx)(Up,{value:i.houseId,onChange:l}),(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("label",{children:"Owner:"}),(0,jp.jsx)("input",{type:"text",name:"owner",className:"string"===typeof i.houseId||(u=i.owner,u.match(/^@[\w]{3,20}$/))?"":"invalid",disabled:"string"===typeof i.houseId,value:i.owner||"",onChange:l})]}),(0,jp.jsx)("div",{className:"textBox",children:(0,jp.jsx)("textarea",{name:"description",disabled:"string"===typeof i.houseId,value:i.description,placeholder:"Description (optional)",onChange:l})})]}),(0,jp.jsx)("div",{className:"formGroup deleteLoc",children:(0,jp.jsx)("button",{className:"deleteButton",title:"Delete Location",onClick:function(){o(Zh.showModal({key:Yh.generic,data:{title:"Delete ".concat(n.name||"This Location","?"),text:"This action cannot only be undone by reverting all unsaved changes.",action:hp.deleteLocation({locationId:n.id})}}))}})})]}),(0,jp.jsx)(Wp,{location:n})]})},Kp=n.p+"static/media/spinner.7b4da7a15287c40931f1.gif";var Gp=function(t){var n,r=t.town,i=Wt((0,e.useState)(null),2),a=i[0],o=i[1],s=Ip(pp.working),u=Mp();return(0,e.useEffect)((function(){var e;null!==s&&void 0!==s&&null!==(e=s.locations)&&void 0!==e&&e.length?(o(null===a?s.locations[0].id:s.locations[s.locations.length-1].id),u(hp.setLocationFilter([]))):o(null)}),[null===s||void 0===s||null===(n=s.locations)||void 0===n?void 0:n.length]),r?!s||s.locations.length&&!s.locations.find((function(e){return e.id===a}))?(0,jp.jsx)("div",{id:"spinner",children:(0,jp.jsx)("img",{alt:"loading",src:Kp})}):(0,jp.jsxs)("div",{id:"townEditor",children:[(0,jp.jsxs)("div",{id:"locationSelection",children:[(0,jp.jsx)("h3",{children:"Locations"}),(0,jp.jsx)("div",{id:"locationList",className:"selectionList",children:s.locations.map((function(e){return(0,jp.jsx)("div",{className:e.id===a?"active":"",onClick:function(){var t;t=e.id,o(t),u(hp.setLocationFilter([]))},children:e.name||"Unnamed Location"},e.id)}))}),(0,jp.jsx)("button",{onClick:function(){u(hp.addLocation())},children:"Add New"})]}),a?(0,jp.jsx)("div",{id:"location",children:(0,jp.jsx)(Vp,{location:s.locations.find((function(e){return e.id===a}))})}):(0,jp.jsx)("div",{})]}):null};var $p=function(){var e,t=Ip(Vh.user),n=Ip(pp.changed),r=Ip(pp.release),i=Ip(pp.working),a=Mp();if(!i)return null;var o=Gh(i.name),s=!n&&(null===(e=r[o])||void 0===e?void 0:e.modified)!==i.modified;return(0,jp.jsxs)("footer",{id:"toolbar",children:[(0,jp.jsx)("button",{title:"Download location data file for testing your changes",disabled:!i.locations.length,onClick:function(){var e=ue({},r);delete e.modified,e[o]=ue({},i),a(Zh.showModal({key:Yh.generic,data:{title:"Export LocationData.lua",text:["This will create a new version of the addon's data file and save it to your computer. You can then replace the data file in your addon folder:","CODE:Documents\\Elder Scrolls Online\\live\\AddOns\\RoleplayTownPortals\\LocationData.lua","This can be done while the game is running, just use the /reloadui command to get the new data."],action:hp.exportAddonData(e),width:"800px"}}))},children:"Download"}),(0,jp.jsx)("button",{title:"Save changes",disabled:!n,onClick:function(){a(Zh.showModal({key:Yh.generic,data:{title:"Confirm",text:"Are you sure you want to save your changes?",action:hp.saveTownData()}}))},children:"Save"}),(0,jp.jsx)("button",{title:"Discard changes",disabled:!n,onClick:function(){a(Zh.showModal({key:Yh.generic,data:{title:"Confirm",text:"The will reverse all unsaved changes and cannot be undone.  Do you wish to proceed?",action:hp.resetWorkingData()}}))},children:"Revert"}),t.permissions.indexOf("developer")>-1&&(0,jp.jsx)("button",{className:"devButton",title:"Prepare release",disabled:!s,onClick:function(){var e=ue({},r);e[o]=ue({},i),e.modified=Date.now(),a(Zh.showModal({key:Yh.generic,data:{title:"Merge for Release?",text:["This will save this town's changes to the release branch.","The Download button can then be used to pull the town data."],action:hp.saveReleaseData(e)}}))},children:"Merge"})]})};var Qp=function(){var t=Ip(Vh.user),n=Ip(pp.working),r=Wt((0,e.useState)(t.towns.length?t.towns[0]:void 0),2),i=r[0],a=r[1],o=Mp();(0,e.useEffect)((function(){o(hp.loadReleaseData())}),[o]),(0,e.useEffect)((function(){o(hp.loadTownData(i))}),[o,i]);var s=null!==n&&void 0!==n&&n.modified?"Last saved ".concat(new Date(n.modified).toLocaleString()):"";return(0,jp.jsxs)("section",{id:"editor",children:[1===t.towns.length?(0,jp.jsxs)("h2",{title:s,children:["Editing ",i]}):t.towns.length?(0,jp.jsxs)("h2",{children:["Editing ",(0,jp.jsx)("select",{title:s,value:i,onChange:function(e){a(e.target.value)},children:t.towns.map((function(e){return(0,jp.jsx)("option",{children:e},e)}))})]}):(0,jp.jsx)("h2",{children:"You do not have access to any towns."}),(0,jp.jsx)(Gp,{town:i}),(0,jp.jsx)($p,{})]})};function Yp(e,t){var n=e.split(":");return"CODE"===n[0]?(0,jp.jsx)("code",{children:n.slice(1).join(":")},t):(0,jp.jsx)("p",{children:e},t)}var Jp=function(){var e=Ip(Xh.data),t=Mp();return(0,jp.jsxs)("section",{style:{minWidth:e.width?e.width:"auto"},children:[(0,jp.jsx)("h2",{children:e.title}),e.text.map?e.text.map((function(e,t){return Yp(e,t)})):Yp(e.text),(0,jp.jsxs)("div",{children:[(0,jp.jsx)("button",{onClick:function(){e.action?(t(e.action),e.action.type.startsWith("modal")||t(Zh.showModal({key:Yh.clear}))):t(Zh.showModal({key:Yh.clear}))},children:e.buttonLabel||"Ok"}),e.action&&(0,jp.jsx)("button",{onClick:function(){t(Zh.showModal({key:Yh.clear}))},children:"Cancel"})]})]})};var Zp=function(){var t=Wt((0,e.useState)(Ip(pp.filter)),2),n=t[0],r=t[1],i=(0,e.useRef)(null),a=Mp(),o=tp.map((function(e){return e.style})).filter((function(e,t,n){return n.indexOf(e)===t})).sort(),s=function(e){i.current.querySelector("input[value='".concat(e.target.dataset.key,"']")).click()},u=function(){var e=[];i.current.querySelectorAll("input[type='checkbox'").forEach((function(t){t.checked&&e.push(t.value)})),r(e)};return(0,jp.jsxs)("section",{children:[(0,jp.jsx)("h2",{children:"Filters"}),(0,jp.jsx)("div",{ref:i,id:"filterList",children:o.map((function(e){return(0,jp.jsxs)("div",{className:"formGroup",children:[(0,jp.jsx)("input",{type:"checkbox",value:e,checked:n.indexOf(e)>-1,onChange:u}),(0,jp.jsx)("label",{"data-key":e,onClick:s,children:e})]},e)}))}),(0,jp.jsxs)("div",{children:[(0,jp.jsx)("button",{onClick:function(){a(hp.setLocationFilter(n)),a(Zh.showModal({key:Yh.clear}))},children:"Ok"}),(0,jp.jsx)("button",{onClick:function(){a(Zh.showModal({key:Yh.clear}))},children:"Cancel"})]})]})};var Xp=function(){var e=Ip(Xh.key);if(e){var t;switch(e){case Yh.generic:t=Jp;break;case Yh.houseStyle:t=Zp;break;default:t=null}if(t)return(0,jp.jsx)("div",{id:"modalBG",children:(0,jp.jsx)(t,{})})}return null};var ev=function(){var t=Ip(Vh.busy),n=Ip(Vh.user),r=Ip(pp.changed),i=Mp();return(0,e.useEffect)((function(){setTimeout((function(){i(Bh.startupTasks())}),100)}),[i]),(0,jp.jsxs)(jp.Fragment,{children:[(0,jp.jsxs)("header",{children:[(0,jp.jsx)("div",{children:n&&(0,jp.jsxs)(jp.Fragment,{children:[(0,jp.jsxs)("div",{children:["Welcome, ",n.name,"!"]}),(0,jp.jsx)("button",{id:"logout",onClick:function(){i(r?Zh.showModal({key:Yh.generic,data:{title:"Confirm",text:"You have unsaved changes.  Are you sure you want to log out?",action:Bh.logout()}}):Bh.logout())},children:"Logout"})]})}),(0,jp.jsx)("h1",{children:"Roleplay Town Portals Editor"})]}),(0,jp.jsx)("main",{children:n?(0,jp.jsx)(Qp,{}):t?(0,jp.jsx)("div",{id:"spinner",children:(0,jp.jsx)("img",{alt:"loading",src:Kp})}):(0,jp.jsx)(zp,{})}),(0,jp.jsx)(Xp,{})]})},tv=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};t.createRoot(document.getElementById("root")).render((0,jp.jsx)(e.StrictMode,{children:(0,jp.jsx)(Op,{store:vp,children:(0,jp.jsx)(ev,{})})})),tv()}()}();
//# sourceMappingURL=main.90df5343.js.map